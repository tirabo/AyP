
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>17. Interacción con archivos CSV, XML y JSON &#8212; Algoritmos y Programación</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '17_Archivos_CSV_XML_JSON_APIs';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="18. Introducción a NumPy" href="18_NumPy.html" />
    <link rel="prev" title="16. Input y output" href="16_Input_y_output.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="00_Introduccion.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Algoritmos y Programación - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Algoritmos y Programación - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="00_Introduccion.html">
                    Algoritmos y Programación: introducción
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Dibujando con Turtle</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_Dibujando_con_Python_Turtle.html">1. Dibujando con Python turtle</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_Mas_dibujos_con_Turtle.html">2. Practicando con Turtle</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_Variables_Funciones_en_Turtle.html">3. Variables y funciones aplicadas a Turtle</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Aprendiendo lo básico</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="04_Primeros_pasos_en_Python.html">4. Primeros pasos con Python</a></li>

<li class="toctree-l1"><a class="reference internal" href="05_Funciones.html">5. Funciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_Condicionales.html">6. Condicionales</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_Ciclos.html">7. Ciclos</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_Cadenas.html">8. Cadenas</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_Listas_y_tuplas.html">9. Listas y tuplas</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_Diccionarios_y_conjuntos.html">10. Dicionarios y conjuntos</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_Invariantes_Desarrollos_en_base_b.html">11. Invariantes</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Recursión</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="12_Recursion.html">12. Recursión</a></li>
<li class="toctree-l1"><a class="reference internal" href="13_Recursion_%28continuacion%29.html">13. Recursión (2° parte)</a></li>
<li class="toctree-l1"><a class="reference internal" href="13.1_Numeros_notables.html">13.1 Los números notables (optativa)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Clases y objetos</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="14_Clases_y_objetos.html">14. Clases y objetos</a></li>
<li class="toctree-l1"><a class="reference internal" href="15_Clases_y_objetos_ejemplos.html">15. Clases y objetos: ejemplos</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Input y output</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="16_Input_y_output.html">16. Input y output</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">17. Interacción con archivos CSV, XML y JSON</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Numpy y Pyplot</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="18_NumPy.html">18. Introducción a NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="19_PyPlot.html">19. Introducción a Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="19.1_Ejemplo_recorridos_GPX.html">19. 1 Análisis y graficación de recorridos GPX (optativa)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Apéndices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="20.0_Ejercicios_resueltos.html">Ejercicios resueltos</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="20.1_Python_turtle.html">1. Dibujando con la tortuga</a></li>
<li class="toctree-l2"><a class="reference internal" href="20.2_Expresiones_funciones_condicionales.html">2. Expresiones, funciones y condicionales</a></li>
<li class="toctree-l2"><a class="reference internal" href="20.3_Ciclos_fechas.html">3. Ciclos, tratamiento de fechas</a></li>
<li class="toctree-l2"><a class="reference internal" href="20.4_Cadenas_listas_diccionarios_conjuntos.html">4. Cadenas, listas, diccionarios y conjuntos</a></li>
<li class="toctree-l2"><a class="reference internal" href="20.5_Recursion.html">5. Recursión</a></li>
<li class="toctree-l2"><a class="reference internal" href="20.6_Clases_objetos.html">6. Tipos abstractos de datos (clases)</a></li>
<li class="toctree-l2"><a class="reference internal" href="20.7_Entrada_y_salida.html">7. Lectura y escritura de archivos</a></li>
<li class="toctree-l2"><a class="reference internal" href="20.8_Numpy_y_pyplot.html">8. NumPy y PyPlot</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2F17_Archivos_CSV_XML_JSON_APIs.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/17_Archivos_CSV_XML_JSON_APIs.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>17. Interacción con archivos CSV, XML y JSON</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-csv">1. Archivos CSV</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-de-archivos-csv-de-la-red">Lectura de archivos CSV de la red</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-y-escritura-de-archivos-json">2. Lectura y escritura de archivos JSON</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-de-archivos-json-en-internet">3. Lectura de archivos JSON en internet</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-y-escritura-de-archivos-xml">4. Lectura y escritura de archivos XML</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#elementos-y-atributos">4.1. Elementos y atributos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xml-dom">4.2. xml.dom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo">4.3. Ejemplo</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uso-de-apis">5. Uso de APIs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-la-api-del-noaa">Ejemplo: la API del NOAA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#otros-ejemplos-de-apis">Otros ejemplos de APIs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apis-de-servicios-populares">APIs de servicios populares</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="interaccion-con-archivos-csv-xml-y-json">
<h1>17. Interacción con archivos CSV, XML y JSON<a class="headerlink" href="#interaccion-con-archivos-csv-xml-y-json" title="Link to this heading">#</a></h1>
<p>Es común que cuando interactuamos y obtenemos datos de páginas o sitios de Internet estos datos se encuentren en formatos estructurados. Veremos a continuación, brevemente, como podemos obtener datos de archivos CSV, XML y JSON.</p>
<section id="archivos-csv">
<h2>1. Archivos CSV<a class="headerlink" href="#archivos-csv" title="Link to this heading">#</a></h2>
<p>La forma estructurada más sencilla de información es un archivo CSV,  que es similar a una hoja de una planilla de cálculo.</p>
<p>Un archivo CSV (Comma Separated Values) es un tipo de archivo de texto que se utiliza comúnmente para almacenar datos tabulares. Los datos en un archivo CSV se organizan en filas y columnas, donde cada fila corresponde a un registro y cada columna corresponde a un campo en ese registro. Los campos en un archivo CSV se separan por un carácter delimitador, como una coma, un punto y coma o una tabulación.</p>
<p>Cada registro en un archivo CSV se almacena en una nueva línea, y los valores de los campos pueden estar rodeados de comillas dobles si contienen el carácter delimitador. Por ejemplo, el siguiente es un ejemplo de un archivo CSV que contiene información sobre personas:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nombre,edad,ciudad
Juan,30,&quot;Quito, Centro&quot;
María,25,Medellín
Pedro,40,Lima
</pre></div>
</div>
<p>En este ejemplo, la primera línea del archivo CSV contiene los nombres de los campos (<code class="docutils literal notranslate"><span class="pre">nombre</span></code>, <code class="docutils literal notranslate"><span class="pre">edad</span></code> y <code class="docutils literal notranslate"><span class="pre">ciudad</span></code>), mientras que las siguientes líneas contienen los datos de los registros.</p>
<p>Los archivos CSV son una forma común de intercambiar datos entre diferentes programas o sistemas, ya que son un formato simple y legible por humanos. También se pueden abrir y editar fácilmente en programas de hojas de cálculo, como Microsoft Excel o Google Sheets.</p>
<p>Por otro lado,  tiene la limitación de que la información se puede estructurar unicamente en filas y columnas.</p>
<p>Construyamos un ejemplo sencillo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;archivo.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csvfile</span><span class="p">:</span>
    <span class="n">csvfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;nombre, edad,ciudad</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">csvfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&quot;Pérez, Juan&quot;, 30, Quito</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">csvfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;María, 25, Medellín</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">csvfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Pedro, 40, Lima</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Cuando  tenemos la información estructurada como lista de listas, donde cada elemento de la lista “exterior” es una lista que representa una fila con datos es preferible usar el módulo <code class="docutils literal notranslate"><span class="pre">csv</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span>

<span class="n">datos</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;edad&#39;</span><span class="p">,</span><span class="s1">&#39;ciudad&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Pérez, Juan&#39;</span><span class="p">,</span> <span class="s1">&#39;30&#39;</span><span class="p">,</span> <span class="s1">&#39;Quito&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;María&#39;</span><span class="p">,</span> <span class="s1">&#39;25&#39;</span><span class="p">,</span> <span class="s1">&#39;Medellín&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Pedro&#39;</span><span class="p">,</span> <span class="s1">&#39;40&#39;</span><span class="p">,</span> <span class="s1">&#39;Lima&#39;</span><span class="p">]]</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;personas.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="c1"># Escribir cada fila individualmente</span>
    <span class="k">for</span> <span class="n">fila</span> <span class="ow">in</span> <span class="n">datos</span><span class="p">:</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">fila</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Para leer un archivo CSV en Python, también podemos utilizar el módulo <code class="docutils literal notranslate"><span class="pre">csv</span></code>. Este módulo proporciona una forma fácil de leer y escribir archivos CSV. A continuación, se muestra un ejemplo de cómo leer un archivo CSV y obtener los valores de los campos:</p>
<p>Usaremos un archivo CSV  que recién hemos creado.</p>
<p>Para leer este archivo, se puede usar el siguiente código en Python:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span>

<span class="c1"># abre el archivo CSV en modo lectura</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;archivo.csv&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csvfile</span><span class="p">:</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csvfile</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">quotechar</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="c1"># crea un objeto reader de CSV</span>
    <span class="n">valores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># iteramos sobre las filas del archivo CSV:</span>
    <span class="k">for</span> <span class="n">fila</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">valores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fila</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">valores</span><span class="p">)</span> <span class="c1"># [[&#39;nombre&#39;, &#39; edad&#39;, &#39;ciudad&#39;], [&#39;Perez,Juan&#39;, &#39; 30&#39;, &#39; Quito&#39;], [&#39;María&#39;, &#39; 25&#39;, &#39; Medellín&#39;], [&#39;Pedro&#39;, &#39; 40&#39;, &#39; Lima&#39;]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[&#39;nombre&#39;, &#39; edad&#39;, &#39;ciudad&#39;], [&#39;Pérez, Juan&#39;, &#39; 30&#39;, &#39; Quito&#39;], [&#39;María&#39;, &#39; 25&#39;, &#39; Medellín&#39;], [&#39;Pedro&#39;, &#39; 40&#39;, &#39; Lima&#39;]]
</pre></div>
</div>
</div>
</div>
<p>En este código, usamos  <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">open()</span></code> para abrir el archivo CSV en modo lectura. A continuación, creamos un objeto lector de CSV usando la función <code class="docutils literal notranslate"><span class="pre">csv.reader()</span></code>. Este objeto lector toma el archivo CSV y los parámetros <code class="docutils literal notranslate"><span class="pre">delimiter</span></code> y <code class="docutils literal notranslate"><span class="pre">quotechar</span></code>, que indican el carácter delimitador y el carácter de comillas, respectivamente. Estos parámetros son optativos. En este ejemplo, estamos usando comas como delimitadores y comillas dobles como caracteres de comillas.</p>
<p>Luego, iteramos sobre las filas del archivo CSV utilizando un ciclo <code class="docutils literal notranslate"><span class="pre">for</span></code>. Guardamos las filas del archivo CSV  en la lista <code class="docutils literal notranslate"><span class="pre">valores</span></code> . Cada fila se lle como una lista y  esta se agrega a la lista <code class="docutils literal notranslate"><span class="pre">valores</span></code>. En  definitiva,  <code class="docutils literal notranslate"><span class="pre">valores</span></code> es una lista de listas.</p>
<p>Imprimamos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">valores</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[&#39;nombre&#39;, &#39; edad&#39;, &#39;ciudad&#39;], [&#39;Pérez, Juan&#39;, &#39; 30&#39;, &#39; Quito&#39;], [&#39;María&#39;, &#39; 25&#39;, &#39; Medellín&#39;], [&#39;Pedro&#39;, &#39; 40&#39;, &#39; Lima&#39;]]
</pre></div>
</div>
</div>
</div>
<p>Si queremos imprimir fila por file podemos hacer:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">valores</span><span class="p">))):</span>
    <span class="n">fila</span> <span class="o">=</span> <span class="n">valores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fila</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">fila</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">fila</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nombre  edad ciudad
Pérez, Juan  30  Quito
María  25  Medellín
Pedro  40  Lima
</pre></div>
</div>
</div>
</div>
<p>En resumen, para leer un archivo CSV en Python, puede usar el módulo <code class="docutils literal notranslate"><span class="pre">csv</span></code> y la función <code class="docutils literal notranslate"><span class="pre">csv.reader()</span></code>. Para obtener los valores de los campos, simplemente iteramos sobre el objeto <code class="docutils literal notranslate"><span class="pre">reader</span></code>.</p>
<p>Finalmente,  como la primera fila son los id de los campos, no son valores que nos interesan. Una forma eficiente de leer solo los valores es la siguiente:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;archivo.csv&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csvfile</span><span class="p">:</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csvfile</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">quotechar</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="c1"># crea un objeto reader de CSV</span>
    <span class="n">claves</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span> <span class="c1"># salta la primera fila</span>
    <span class="n">valores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">fila</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">valores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fila</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>E imprimimos su contenido:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">claves</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">valores</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;nombre&#39;, &#39; edad&#39;, &#39;ciudad&#39;]
[[&#39;Pérez, Juan&#39;, &#39; 30&#39;, &#39; Quito&#39;], [&#39;María&#39;, &#39; 25&#39;, &#39; Medellín&#39;], [&#39;Pedro&#39;, &#39; 40&#39;, &#39; Lima&#39;]]
</pre></div>
</div>
</div>
</div>
<section id="lectura-de-archivos-csv-de-la-red">
<h3>Lectura de archivos CSV de la red<a class="headerlink" href="#lectura-de-archivos-csv-de-la-red" title="Link to this heading">#</a></h3>
<p>Podemos obtener un archivo CSV  de la red usando el módulo <code class="docutils literal notranslate"><span class="pre">requests</span></code>.  Si <code class="docutils literal notranslate"><span class="pre">response</span></code> es el objeto que devuelve <code class="docutils literal notranslate"><span class="pre">requests.get(url)</span></code>y  queremos leer el CSV línea por línea, podemos utilizar la instrucción <code class="docutils literal notranslate"><span class="pre">response.text.splitlines()</span></code> que convierte el archivo CSV en una lista de líneas. Luego a esa lista le aplicamos <code class="docutils literal notranslate"><span class="pre">csv.reader()</span></code> y podemos leer línea por línea,  donde cada línea será una lista de valores.</p>
<p>Esquemáticamente:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response_text</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span> <span class="c1"># lista de líneas</span>
<span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">response_text</span><span class="p">)</span>
<span class="n">valores</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">fila</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
    <span class="n">valores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fila</span><span class="p">)</span> <span class="c1"># cada fila es una lista de valores</span>
</pre></div>
</div>
<p>Veamos un ejemplo concreto:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">csv</span>

<span class="c1"># Lectura de archivo csv desde una url (en GitHub)</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://raw.githubusercontent.com/morethanbooks/Atlas-de-Datos/refs/heads/master/atlas</span><span class="si">%20d</span><span class="s1">e</span><span class="si">%20d</span><span class="s1">atos.csv&#39;</span>

<span class="c1"># En  estos casos es importante manejar las excepciones</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">response_text</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span> <span class="c1"># lista de líneas</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">response_text</span><span class="p">)</span>
    <span class="n">valores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">fila</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">valores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fila</span><span class="p">)</span>
<span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error al descargar el archivo:&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Hagamos una comprobación:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># los primeros 5 elementos de la lista valores</span>
<span class="k">for</span> <span class="n">dato</span> <span class="ow">in</span> <span class="n">valores</span><span class="p">[:</span><span class="mi">5</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dato</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;id&#39;, &#39;Nombre&#39;, &#39;Nombre breve&#39;, &#39;URL&#39;, &#39;Tipo de dato&#39;, &#39;Formato&#39;, &#39;Formato&#39;, &#39;Tipo de proyecto&#39;, &#39;Responsable&#39;, &#39;Año de comienzo&#39;, &#39;País&#39;, &#39;Ciudad&#39;, &#39;Institución&#39;, &#39;Licencia&#39;, &#39;CC?&#39;, &#39;Pago&#39;, &#39;Cantidad de datos original&#39;, &#39;Cantidad de datos normalizada&#39;, &#39;Rangos cantidad de datos&#39;, &#39;Cantidad estimada&#39;, &#39;Tipo de edición&#39;, &#39;Rangos tipos de edición&#39;, &#39;Época&#39;, &#39;Género textual&#39;, &#39;Subgénero textual&#39;, &#39;Autor&#39;, &#39;Descarga full-text&#39;, &#39;Anotación lingüística&#39;, &#39;Anotación diferente&#39;, &#39;Metadatos&#39;, &#39;Comentario&#39;]
[&#39;1&#39;, &#39;Biblioteca Virtual Miguel de Cervantes&#39;, &#39;BVMG&#39;, &#39;www.cervantesvirtual.com&#39;, &#39;texto&#39;, &#39;HTML&#39;, &#39;markup&#39;, &#39;biblioteca digital&#39;, &#39;Vargas Llosa, Mario&#39;, &#39;1999&#39;, &#39;España&#39;, &#39;Alicante&#39;, &#39;Universidad de Alicante&#39;, &#39;?&#39;, &#39;no&#39;, &#39;no&#39;, &#39;3000&#39;, &#39;3000&#39;, &#39;4&#39;, &#39;sí&#39;, &#39;filológica&#39;, &#39;3&#39;, &#39;varios&#39;, &#39;varios&#39;, &#39;varios&#39;, &#39;varios&#39;, &#39;no&#39;, &#39;no&#39;, &#39;no&#39;, &#39;1&#39;, &#39; &#39;]
[&#39;2&#39;, &#39;The Association for Hispanic Classical Theater&#39;, &#39;Classical Theater&#39;, &#39;wordpress.comedias.org&#39;, &#39;texto&#39;, &#39;HTML&#39;, &#39;markup&#39;, &#39;colección de textos&#39;, &#39;García, Susan&#39;, &#39;2014&#39;, &#39;Estados Unidos&#39;, &#39;Denison&#39;, &#39;AHCT&#39;, &#39;?&#39;, &#39;no&#39;, &#39;no&#39;, &#39;250&#39;, &#39;250&#39;, &#39;3&#39;, &#39;no&#39;, &#39;filológica&#39;, &#39;3&#39;, &#39;1500-1700&#39;, &#39;literatura&#39;, &#39;teatro&#39;, &#39;varios&#39;, &#39;sí&#39;, &#39;no&#39;, &#39;no&#39;, &#39;1&#39;, &#39;Año dudoso&#39;]
[&#39;3&#39;, &#39;Biblioteca digital Arte Lope&#39;, &#39;Arte Lope&#39;, &#39;artelope.uv.es/biblioteca&#39;, &#39;texto&#39;, &#39;HTML&#39;, &#39;markup&#39;, &#39;colección de textos&#39;, &#39;Oleza Simó, Joan&#39;, &#39;2013&#39;, &#39;España&#39;, &#39;Valencia&#39;, &#39;Universitat de València&#39;, &#39;C&#39;, &#39;no&#39;, &#39;no&#39;, &#39;120&#39;, &#39;120&#39;, &#39;2&#39;, &#39;no&#39;, &#39;filológica&#39;, &#39;3&#39;, &#39;1562-1635&#39;, &#39;literatura&#39;, &#39;teatro&#39;, &#39;Lope&#39;, &#39;sí&#39;, &#39;no&#39;, &#39;sí&#39;, &#39;1&#39;, &#39; &#39;]
[&#39;4&#39;, &#39;Wikisource&#39;, &#39;Wikisource&#39;, &#39;wikisource.org&#39;, &#39;texto&#39;, &#39;HTML&#39;, &#39;markup&#39;, &#39;colección de textos&#39;, &#39;Wales, Jimmy&#39;, &#39;2003&#39;, &#39;Estados Unidos&#39;, &#39;San Petersburgo, Florida&#39;, &#39;Wikimedia&#39;, &#39;CC BY-SA&#39;, &#39;sí&#39;, &#39;no&#39;, &#39;5000&#39;, &#39;5000&#39;, &#39;4&#39;, &#39;sí&#39;, &#39;no profesoinal&#39;, &#39;1&#39;, &#39;varios&#39;, &#39;literatura&#39;, &#39;varios&#39;, &#39;varios&#39;, &#39;no&#39;, &#39;no&#39;, &#39;no&#39;, &#39;0&#39;, &#39; &#39;]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="lectura-y-escritura-de-archivos-json">
<h2>2. Lectura y escritura de archivos JSON<a class="headerlink" href="#lectura-y-escritura-de-archivos-json" title="Link to this heading">#</a></h2>
<p>JSON, cuyo nombre corresponde a las siglas <em>JavaScript Object Notation</em> o <em>Notación de Objetos de JavaScript</em>, es un formato ligero de intercambio de datos, que resulta sencillo de leer y escribir para los programadores y simple de interpretar y generar para las máquinas.</p>
<p>JSON es un formato de texto completamente independiente de lenguaje y puede ser interpretado y creado por los siguientes lenguajes:</p>
<ul class="simple">
<li><p>C</p></li>
<li><p>C++</p></li>
<li><p>C#</p></li>
<li><p>Java</p></li>
<li><p>JavaScript</p></li>
<li><p>Perl</p></li>
<li><p>Python</p></li>
<li><p>etc.</p></li>
</ul>
<p>Muchos lenguajes de programación proporcionan métodos para analizar una cadena de texto con este formato en un objeto nativo y viceversa.</p>
<p>Pese a su nombre, no es necesariamente parte de JavaScript, de hecho, es un estándar basado en texto plano para el intercambio de datos, por lo que se usa en muchos sistemas que requieren mostrar o enviar información para ser interpretada por otros sistemas.</p>
<p>Una de las características de JSON, al ser un formato que es independiente de cualquier lenguaje de programación, es que los servicios que comparten información por este método no necesitan hablar el mismo idioma, es decir, el emisor puede ser Java y el receptor Python, pues cada uno tiene su propia librería para codificar y decodificar cadenas en este formato.</p>
<p>La estructura de los documentos JSON se basa en dos estructuras de datos fundamentales:</p>
<p><strong>Objetos.</strong> Son conjuntos no ordenados de pares clave-valor, donde las claves son cadenas de texto y los valores pueden ser de cualquier tipo de dato válido en JSON.</p>
<p>Ejemplo de un objeto JSON:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;nombre&quot;</span><span class="p">:</span> <span class="s2">&quot;Pepito Conejo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;edad&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
    <span class="s2">&quot;carnet_de_conducir&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Matrices.</strong> Son listas ordenadas de valores que pueden ser de cualquier tipo de dato.</p>
<p>Ejemplo de una matriz JSON:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;pepe&quot;</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="s2">&quot;Pepito Conejo&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Dentro de una matriz puede haber datos, objetos JSON o matrices.</p>
<p>Como habrán notado, lo notable de JSON  es que los archivos de texto en formato JSON son muy parecidos a los diccionarios y listas de Python,  con una sintaxis idéntica.</p>
<p>Ahora veremos dos instrucciones que nos premiten pasar de un objeto JSON  a una estructura Python y viceversa.</p>
<p><code class="docutils literal notranslate"><span class="pre">json.loads('cadena</span> <span class="pre">json')</span></code>: convierte una cadena de caracteres en formato JSON  a un diccionario o lista según corresponda. Esto es llamado <em>deserializar</em> una cadena.</p>
<p><code class="docutils literal notranslate"><span class="pre">json.dumps(diccionario</span> <span class="pre">o</span> <span class="pre">lista)</span></code>: convierte un diccionario o lista a cadena de caracteres (que luego puede ser utilizada como input de <code class="docutils literal notranslate"><span class="pre">json.loads()</span></code>). Esto es llamado <em>serializar</em> un objeto.</p>
<p>Primero utilicemos <code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code>. Comencemos creando un objeto  Python: será una lista de diccionarios,  cada diccionario tendrá un <code class="docutils literal notranslate"><span class="pre">id</span></code> como clave cuyo valor será un número entero, los haremos consecutivos, y tres claves más <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>, <code class="docutils literal notranslate"><span class="pre">prom</span></code>, donde <code class="docutils literal notranslate"><span class="pre">min</span></code> es un número aleatorio del  <span class="math notranslate nohighlight">\(0\)</span> al <span class="math notranslate nohighlight">\(1000\)</span>, <code class="docutils literal notranslate"><span class="pre">max</span></code> es un número aleatorio del <span class="math notranslate nohighlight">\(1001\)</span> al <span class="math notranslate nohighlight">\(2000\)</span> y <code class="docutils literal notranslate"><span class="pre">prom</span></code> es el promedio de <code class="docutils literal notranslate"><span class="pre">min</span></code> y <code class="docutils literal notranslate"><span class="pre">max</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>
<span class="n">lista</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">mini_</span><span class="p">,</span> <span class="n">maxi_</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1001</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
    <span class="n">lista</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="n">mini_</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="n">maxi_</span><span class="p">,</span> <span class="s1">&#39;prom&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">mini_</span> <span class="o">+</span> <span class="n">maxi_</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="n">lista</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;id&#39;: 0, &#39;min&#39;: 128, &#39;max&#39;: 1163, &#39;prom&#39;: 645.5}, {&#39;id&#39;: 1, &#39;min&#39;: 424, &#39;max&#39;: 1047, &#39;prom&#39;: 735.5}, {&#39;id&#39;: 2, &#39;min&#39;: 592, &#39;max&#39;: 1012, &#39;prom&#39;: 802.0}, {&#39;id&#39;: 3, &#39;min&#39;: 246, &#39;max&#39;: 1732, &#39;prom&#39;: 989.0}, {&#39;id&#39;: 4, &#39;min&#39;: 316, &#39;max&#39;: 1552, &#39;prom&#39;: 934.0}, {&#39;id&#39;: 5, &#39;min&#39;: 367, &#39;max&#39;: 1833, &#39;prom&#39;: 1100.0}, {&#39;id&#39;: 6, &#39;min&#39;: 984, &#39;max&#39;: 1100, &#39;prom&#39;: 1042.0}, {&#39;id&#39;: 7, &#39;min&#39;: 367, &#39;max&#39;: 1796, &#39;prom&#39;: 1081.5}, {&#39;id&#39;: 8, &#39;min&#39;: 889, &#39;max&#39;: 1014, &#39;prom&#39;: 951.5}, {&#39;id&#39;: 9, &#39;min&#39;: 293, &#39;max&#39;: 1217, &#39;prom&#39;: 755.0}]
</pre></div>
</div>
</div>
</div>
<p>Ahora transformemos el objeto lista a una cadena JSON. Para ellos utilizamos <code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code> que transforma un diccionario o lista en una cadena con  estructura JSON.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span>  <span class="nn">json</span>

<span class="n">json_</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">lista</span><span class="p">)</span> <span class="c1"># transforma a JSON (es una str)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;archivo.json&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_</span><span class="p">)</span> <span class="c1"># guarda el JSON en el archivo</span>

<span class="nb">print</span><span class="p">(</span><span class="n">json_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&quot;id&quot;: 0, &quot;min&quot;: 128, &quot;max&quot;: 1163, &quot;prom&quot;: 645.5}, {&quot;id&quot;: 1, &quot;min&quot;: 424, &quot;max&quot;: 1047, &quot;prom&quot;: 735.5}, {&quot;id&quot;: 2, &quot;min&quot;: 592, &quot;max&quot;: 1012, &quot;prom&quot;: 802.0}, {&quot;id&quot;: 3, &quot;min&quot;: 246, &quot;max&quot;: 1732, &quot;prom&quot;: 989.0}, {&quot;id&quot;: 4, &quot;min&quot;: 316, &quot;max&quot;: 1552, &quot;prom&quot;: 934.0}, {&quot;id&quot;: 5, &quot;min&quot;: 367, &quot;max&quot;: 1833, &quot;prom&quot;: 1100.0}, {&quot;id&quot;: 6, &quot;min&quot;: 984, &quot;max&quot;: 1100, &quot;prom&quot;: 1042.0}, {&quot;id&quot;: 7, &quot;min&quot;: 367, &quot;max&quot;: 1796, &quot;prom&quot;: 1081.5}, {&quot;id&quot;: 8, &quot;min&quot;: 889, &quot;max&quot;: 1014, &quot;prom&quot;: 951.5}, {&quot;id&quot;: 9, &quot;min&quot;: 293, &quot;max&quot;: 1217, &quot;prom&quot;: 755.0}]
</pre></div>
</div>
</div>
</div>
<p>La  variable  <code class="docutils literal notranslate"><span class="pre">json_</span></code> es de tipo <code class="docutils literal notranslate"><span class="pre">str</span></code> y cuando la imprimimos queda muy parecida a <code class="docutils literal notranslate"><span class="pre">print(lista)</span></code>, pero que quede claro  que <code class="docutils literal notranslate"><span class="pre">lista</span></code>, una lista, es un objeto muy diferente a  <code class="docutils literal notranslate"><span class="pre">json_</span></code>, que es una cadena.</p>
<p>Ahora recuperemos el archivo que contiene JSON con las estructuras correspondientes (listas, diccionarios). Para hacer esto  utilizaremos <code class="docutils literal notranslate"><span class="pre">json.loads()</span></code> que transforma una cadena JSON en listas y diccionarios.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;archivo.json&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="c1"># data es una str</span>

<span class="n">archivo</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># el archivo es (en este caso) una lista de diccionarios</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Tipo del archivo:&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">archivo</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Tipo del primer elemento del archivo:&#39;</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">archivo</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Imprimimos todo el archivo:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Imprimimos alguna información del archivo:&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">archivo</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;prom&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tipo del archivo: &lt;class &#39;list&#39;&gt;
Tipo del primer elemento del archivo: &lt;class &#39;dict&#39;&gt;

Imprimimos todo el archivo:
[{&#39;id&#39;: 0, &#39;min&#39;: 128, &#39;max&#39;: 1163, &#39;prom&#39;: 645.5}, {&#39;id&#39;: 1, &#39;min&#39;: 424, &#39;max&#39;: 1047, &#39;prom&#39;: 735.5}, {&#39;id&#39;: 2, &#39;min&#39;: 592, &#39;max&#39;: 1012, &#39;prom&#39;: 802.0}, {&#39;id&#39;: 3, &#39;min&#39;: 246, &#39;max&#39;: 1732, &#39;prom&#39;: 989.0}, {&#39;id&#39;: 4, &#39;min&#39;: 316, &#39;max&#39;: 1552, &#39;prom&#39;: 934.0}, {&#39;id&#39;: 5, &#39;min&#39;: 367, &#39;max&#39;: 1833, &#39;prom&#39;: 1100.0}, {&#39;id&#39;: 6, &#39;min&#39;: 984, &#39;max&#39;: 1100, &#39;prom&#39;: 1042.0}, {&#39;id&#39;: 7, &#39;min&#39;: 367, &#39;max&#39;: 1796, &#39;prom&#39;: 1081.5}, {&#39;id&#39;: 8, &#39;min&#39;: 889, &#39;max&#39;: 1014, &#39;prom&#39;: 951.5}, {&#39;id&#39;: 9, &#39;min&#39;: 293, &#39;max&#39;: 1217, &#39;prom&#39;: 755.0}]

Imprimimos alguna información del archivo:
645.5
735.5
802.0
989.0
934.0
1100.0
1042.0
1081.5
951.5
755.0
</pre></div>
</div>
</div>
</div>
<p>Veamos otro ejemplo de  <code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="n">u</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">2</span> <span class="p">:</span> <span class="mi">0</span> <span class="p">},</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span> <span class="p">:</span> <span class="mi">5</span> <span class="p">}}</span> <span class="c1"># u es un diccionario</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;El diccionario:</span><span class="se">\t\t\t\t\t</span><span class="s1">&#39;</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">u</span><span class="p">),</span> <span class="n">u</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Una cadena (vía str):</span><span class="se">\t\t\t\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">u</span><span class="p">)),</span><span class="nb">str</span><span class="p">(</span><span class="n">u</span><span class="p">))</span>
<span class="c1"># dic = json.loads(cadena) # no  funciona</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="c1"># transforma a JSON (es una str)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Un JSON (vía json.dumps()):</span><span class="se">\t\t\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;De nuevo un diccionario (vìa json.loads()):</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El diccionario:					 &lt;class &#39;dict&#39;&gt; {&#39;a&#39;: {2: 0}, &#39;b&#39;: {1: 5}}
Una cadena (vía str):				 &lt;class &#39;str&#39;&gt; {&#39;a&#39;: {2: 0}, &#39;b&#39;: {1: 5}}
Un JSON (vía json.dumps()):			 &lt;class &#39;str&#39;&gt; {&quot;a&quot;: {&quot;2&quot;: 0}, &quot;b&quot;: {&quot;1&quot;: 5}}
De nuevo un diccionario (vìa json.loads()):	 &lt;class &#39;dict&#39;&gt; {&#39;a&#39;: {&#39;2&#39;: 0}, &#39;b&#39;: {&#39;1&#39;: 5}}
</pre></div>
</div>
</div>
</div>
<p>Observar que el diccionario original cambia las claves numérica de <em>TODOS</em> los diccionarios a tipo <code class="docutils literal notranslate"><span class="pre">str</span></code>, incluso los diccionarios que son valores de otro diccionario.</p>
<p>Los valores numéricos se mantienen numéricos. Si un valor es un lista,  se mantiene lista.</p>
<p><strong>Ejemplo.</strong> Crearemos una lista de diccionarios y queremos escribir uno por línea en un archivo, para que luego sea leido usando <code class="docutils literal notranslate"><span class="pre">json.loads()</span></code>.</p>
<p>En  la celda de código siguiente implementamos un ejemplo: creamos una lista con 100 diccionarios tipo</p>
<p><code class="docutils literal notranslate"><span class="pre">{'x'</span> <span class="pre">:</span> <span class="pre">entero</span> <span class="pre">al</span> <span class="pre">azar,</span> <span class="pre">'y'</span> <span class="pre">:</span> <span class="pre">entero</span> <span class="pre">al</span> <span class="pre">azar,</span> <span class="pre">nº</span> <span class="pre">de</span> <span class="pre">orden</span> <span class="pre">en</span> <span class="pre">la</span> <span class="pre">lista</span> <span class="pre">:</span> <span class="pre">[entero</span> <span class="pre">al</span> <span class="pre">azar,</span> <span class="pre">entero</span> <span class="pre">al</span> <span class="pre">azar]</span> <span class="pre">}</span></code></p>
<p>y los guardaremos en el archivo <code class="docutils literal notranslate"><span class="pre">prueba.txt</span></code>, uno en cada línea utilizando <code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="n">lista_dic</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w0</span><span class="p">,</span> <span class="n">w1</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">lista_dic</span><span class="o">.</span><span class="n">append</span><span class="p">({</span> <span class="s1">&#39;x&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span> <span class="p">:</span> <span class="n">y</span><span class="p">,</span> <span class="n">i</span> <span class="p">:</span> <span class="p">[</span><span class="n">w0</span> <span class="p">,</span> <span class="n">w1</span><span class="p">]})</span>

<span class="c1"># Guardamos en el archivo prueba.txt, línea por línea el diccionario.</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;prueba.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lista_dic</span><span class="p">)):</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">lista_dic</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="c1"># \n pasa de renglón</span>

<span class="c1"># Revisar el archivo prueba.txt</span>
</pre></div>
</div>
</div>
</div>
<p>Para leer debemos hacerlo también línea por línea, pues el archivo no tiene la estructura lógica de un diccionario o lista (debería abrir con <code class="docutils literal notranslate"><span class="pre">{</span></code> o <code class="docutils literal notranslate"><span class="pre">[</span></code> y cerrar con <code class="docutils literal notranslate"><span class="pre">}</span></code> o  <code class="docutils literal notranslate"><span class="pre">]</span></code>,  respectivamente). Haremos una lista de diccionarios a partir de <code class="docutils literal notranslate"><span class="pre">prueba.txt</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lista_dic2</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;prueba.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">línea</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lista_dic2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">línea</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">lista_dic2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">lista_dic2</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="n">lista_dic2</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="c1"># comprobamos que cada coordenada</span>
<span class="c1"># es un diccionario</span>

<span class="c1"># Importante:  las claves numéricas pasaron a str. Los valores matienen su tipo (int, list, etc)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lista_dic</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lista_dic2</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;3&#39;</span><span class="p">])</span> <span class="c1"># No estaría bien  print(lista_dic2[3][3])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;x&#39;: 608, &#39;y&#39;: 636, &#39;0&#39;: [20, 741]}, {&#39;x&#39;: 785, &#39;y&#39;: 309, &#39;1&#39;: [326, 135]}, {&#39;x&#39;: 657, &#39;y&#39;: 824, &#39;2&#39;: [838, 125]}, {&#39;x&#39;: 881, &#39;y&#39;: 123, &#39;3&#39;: [507, 853]}, {&#39;x&#39;: 492, &#39;y&#39;: 12, &#39;4&#39;: [608, 866]}, {&#39;x&#39;: 949, &#39;y&#39;: 524, &#39;5&#39;: [191, 16]}, {&#39;x&#39;: 249, &#39;y&#39;: 646, &#39;6&#39;: [801, 935]}, {&#39;x&#39;: 475, &#39;y&#39;: 952, &#39;7&#39;: [543, 887]}, {&#39;x&#39;: 280, &#39;y&#39;: 470, &#39;8&#39;: [712, 908]}, {&#39;x&#39;: 910, &#39;y&#39;: 951, &#39;9&#39;: [513, 830]}, {&#39;x&#39;: 295, &#39;y&#39;: 429, &#39;10&#39;: [572, 730]}, {&#39;x&#39;: 183, &#39;y&#39;: 612, &#39;11&#39;: [934, 67]}, {&#39;x&#39;: 748, &#39;y&#39;: 568, &#39;12&#39;: [117, 319]}, {&#39;x&#39;: 941, &#39;y&#39;: 558, &#39;13&#39;: [636, 219]}, {&#39;x&#39;: 190, &#39;y&#39;: 85, &#39;14&#39;: [224, 330]}, {&#39;x&#39;: 466, &#39;y&#39;: 138, &#39;15&#39;: [155, 559]}, {&#39;x&#39;: 430, &#39;y&#39;: 884, &#39;16&#39;: [674, 298]}, {&#39;x&#39;: 182, &#39;y&#39;: 138, &#39;17&#39;: [853, 855]}, {&#39;x&#39;: 162, &#39;y&#39;: 427, &#39;18&#39;: [395, 466]}, {&#39;x&#39;: 572, &#39;y&#39;: 424, &#39;19&#39;: [331, 516]}, {&#39;x&#39;: 207, &#39;y&#39;: 802, &#39;20&#39;: [489, 959]}, {&#39;x&#39;: 767, &#39;y&#39;: 314, &#39;21&#39;: [681, 273]}, {&#39;x&#39;: 822, &#39;y&#39;: 525, &#39;22&#39;: [41, 603]}, {&#39;x&#39;: 28, &#39;y&#39;: 26, &#39;23&#39;: [685, 270]}, {&#39;x&#39;: 18, &#39;y&#39;: 558, &#39;24&#39;: [865, 697]}, {&#39;x&#39;: 341, &#39;y&#39;: 10, &#39;25&#39;: [780, 315]}, {&#39;x&#39;: 809, &#39;y&#39;: 261, &#39;26&#39;: [196, 335]}, {&#39;x&#39;: 140, &#39;y&#39;: 663, &#39;27&#39;: [331, 655]}, {&#39;x&#39;: 769, &#39;y&#39;: 285, &#39;28&#39;: [623, 430]}, {&#39;x&#39;: 986, &#39;y&#39;: 125, &#39;29&#39;: [785, 102]}, {&#39;x&#39;: 666, &#39;y&#39;: 132, &#39;30&#39;: [235, 462]}, {&#39;x&#39;: 187, &#39;y&#39;: 486, &#39;31&#39;: [538, 658]}, {&#39;x&#39;: 951, &#39;y&#39;: 330, &#39;32&#39;: [842, 631]}, {&#39;x&#39;: 27, &#39;y&#39;: 410, &#39;33&#39;: [840, 402]}, {&#39;x&#39;: 98, &#39;y&#39;: 63, &#39;34&#39;: [339, 721]}, {&#39;x&#39;: 463, &#39;y&#39;: 850, &#39;35&#39;: [456, 461]}, {&#39;x&#39;: 434, &#39;y&#39;: 427, &#39;36&#39;: [61, 520]}, {&#39;x&#39;: 952, &#39;y&#39;: 92, &#39;37&#39;: [889, 397]}, {&#39;x&#39;: 228, &#39;y&#39;: 127, &#39;38&#39;: [220, 226]}, {&#39;x&#39;: 924, &#39;y&#39;: 798, &#39;39&#39;: [430, 776]}, {&#39;x&#39;: 183, &#39;y&#39;: 50, &#39;40&#39;: [710, 650]}, {&#39;x&#39;: 908, &#39;y&#39;: 32, &#39;41&#39;: [888, 107]}, {&#39;x&#39;: 322, &#39;y&#39;: 4, &#39;42&#39;: [428, 28]}, {&#39;x&#39;: 167, &#39;y&#39;: 746, &#39;43&#39;: [804, 182]}, {&#39;x&#39;: 170, &#39;y&#39;: 90, &#39;44&#39;: [643, 386]}, {&#39;x&#39;: 952, &#39;y&#39;: 541, &#39;45&#39;: [643, 787]}, {&#39;x&#39;: 419, &#39;y&#39;: 136, &#39;46&#39;: [142, 447]}, {&#39;x&#39;: 92, &#39;y&#39;: 208, &#39;47&#39;: [300, 360]}, {&#39;x&#39;: 267, &#39;y&#39;: 580, &#39;48&#39;: [817, 685]}, {&#39;x&#39;: 173, &#39;y&#39;: 9, &#39;49&#39;: [361, 278]}, {&#39;x&#39;: 326, &#39;y&#39;: 22, &#39;50&#39;: [605, 595]}, {&#39;x&#39;: 836, &#39;y&#39;: 402, &#39;51&#39;: [585, 279]}, {&#39;x&#39;: 754, &#39;y&#39;: 553, &#39;52&#39;: [975, 588]}, {&#39;x&#39;: 125, &#39;y&#39;: 91, &#39;53&#39;: [390, 844]}, {&#39;x&#39;: 430, &#39;y&#39;: 722, &#39;54&#39;: [221, 103]}, {&#39;x&#39;: 442, &#39;y&#39;: 872, &#39;55&#39;: [370, 368]}, {&#39;x&#39;: 262, &#39;y&#39;: 247, &#39;56&#39;: [727, 888]}, {&#39;x&#39;: 586, &#39;y&#39;: 600, &#39;57&#39;: [25, 582]}, {&#39;x&#39;: 484, &#39;y&#39;: 30, &#39;58&#39;: [760, 990]}, {&#39;x&#39;: 58, &#39;y&#39;: 926, &#39;59&#39;: [382, 471]}, {&#39;x&#39;: 383, &#39;y&#39;: 630, &#39;60&#39;: [713, 19]}, {&#39;x&#39;: 869, &#39;y&#39;: 767, &#39;61&#39;: [300, 831]}, {&#39;x&#39;: 589, &#39;y&#39;: 249, &#39;62&#39;: [421, 384]}, {&#39;x&#39;: 523, &#39;y&#39;: 214, &#39;63&#39;: [684, 772]}, {&#39;x&#39;: 517, &#39;y&#39;: 656, &#39;64&#39;: [372, 540]}, {&#39;x&#39;: 535, &#39;y&#39;: 30, &#39;65&#39;: [861, 231]}, {&#39;x&#39;: 402, &#39;y&#39;: 826, &#39;66&#39;: [490, 460]}, {&#39;x&#39;: 552, &#39;y&#39;: 182, &#39;67&#39;: [777, 639]}, {&#39;x&#39;: 844, &#39;y&#39;: 595, &#39;68&#39;: [784, 883]}, {&#39;x&#39;: 827, &#39;y&#39;: 871, &#39;69&#39;: [261, 744]}, {&#39;x&#39;: 306, &#39;y&#39;: 375, &#39;70&#39;: [799, 428]}, {&#39;x&#39;: 710, &#39;y&#39;: 809, &#39;71&#39;: [843, 933]}, {&#39;x&#39;: 526, &#39;y&#39;: 557, &#39;72&#39;: [853, 301]}, {&#39;x&#39;: 378, &#39;y&#39;: 702, &#39;73&#39;: [171, 919]}, {&#39;x&#39;: 991, &#39;y&#39;: 242, &#39;74&#39;: [301, 952]}, {&#39;x&#39;: 29, &#39;y&#39;: 64, &#39;75&#39;: [595, 305]}, {&#39;x&#39;: 85, &#39;y&#39;: 330, &#39;76&#39;: [373, 963]}, {&#39;x&#39;: 567, &#39;y&#39;: 705, &#39;77&#39;: [339, 575]}, {&#39;x&#39;: 134, &#39;y&#39;: 427, &#39;78&#39;: [203, 223]}, {&#39;x&#39;: 935, &#39;y&#39;: 817, &#39;79&#39;: [424, 703]}, {&#39;x&#39;: 198, &#39;y&#39;: 613, &#39;80&#39;: [363, 989]}, {&#39;x&#39;: 239, &#39;y&#39;: 770, &#39;81&#39;: [251, 328]}, {&#39;x&#39;: 150, &#39;y&#39;: 317, &#39;82&#39;: [518, 134]}, {&#39;x&#39;: 184, &#39;y&#39;: 659, &#39;83&#39;: [91, 66]}, {&#39;x&#39;: 901, &#39;y&#39;: 336, &#39;84&#39;: [897, 428]}, {&#39;x&#39;: 101, &#39;y&#39;: 247, &#39;85&#39;: [778, 842]}, {&#39;x&#39;: 264, &#39;y&#39;: 575, &#39;86&#39;: [264, 829]}, {&#39;x&#39;: 953, &#39;y&#39;: 544, &#39;87&#39;: [446, 402]}, {&#39;x&#39;: 899, &#39;y&#39;: 788, &#39;88&#39;: [658, 67]}, {&#39;x&#39;: 937, &#39;y&#39;: 498, &#39;89&#39;: [361, 578]}, {&#39;x&#39;: 649, &#39;y&#39;: 662, &#39;90&#39;: [785, 700]}, {&#39;x&#39;: 485, &#39;y&#39;: 861, &#39;91&#39;: [598, 15]}, {&#39;x&#39;: 303, &#39;y&#39;: 157, &#39;92&#39;: [395, 802]}, {&#39;x&#39;: 847, &#39;y&#39;: 770, &#39;93&#39;: [523, 994]}, {&#39;x&#39;: 276, &#39;y&#39;: 963, &#39;94&#39;: [171, 242]}, {&#39;x&#39;: 709, &#39;y&#39;: 637, &#39;95&#39;: [98, 114]}, {&#39;x&#39;: 685, &#39;y&#39;: 551, &#39;96&#39;: [206, 908]}, {&#39;x&#39;: 255, &#39;y&#39;: 188, &#39;97&#39;: [382, 585]}, {&#39;x&#39;: 500, &#39;y&#39;: 840, &#39;98&#39;: [709, 866]}, {&#39;x&#39;: 755, &#39;y&#39;: 360, &#39;99&#39;: [716, 348]}]
&lt;class &#39;dict&#39;&gt; {&#39;x&#39;: 881, &#39;y&#39;: 123, &#39;3&#39;: [507, 853]}
[507, 853]
[507, 853]
</pre></div>
</div>
</div>
</div>
<p><em>Ejemplos de cosas que  <strong>NO</strong> funcionan.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="c1"># Si hacemos json.dumps()  de una string, Python lo hace, pero no es el resultado que esperamos.</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="s2">&quot;{&#39;a&#39;: {2 : 0 }, &#39;b&#39;: {1 : 5 }}&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># json.loads() en este caso devuelve una string!</span>
<span class="c1"># y es una string que &quot;parece&quot; un diccionario. Pero no lo es.</span>
<span class="c1"># z = json.loads(y) #  esto directamente da error</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;str&#39;&gt; &quot;{&#39;a&#39;: {2 : 0 }, &#39;b&#39;: {1 : 5 }}&quot;
&lt;class &#39;str&#39;&gt; {&#39;a&#39;: {2 : 0 }, &#39;b&#39;: {1 : 5 }}
</pre></div>
</div>
</div>
</div>
<p><strong>Recomendación:</strong> Usar <code class="docutils literal notranslate"><span class="pre">json.loads()</span></code> y <code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code> de forma prolija y de acuerdo a los líneamientos escritos más arriba. Quizás haciendo aguna  “magia” con los <code class="docutils literal notranslate"><span class="pre">replace()</span></code> se pueda arreglar la celda de código anterior, pero es mejor no hacerlo.</p>
</section>
<section id="lectura-de-archivos-json-en-internet">
<h2>3. Lectura de archivos JSON en internet<a class="headerlink" href="#lectura-de-archivos-json-en-internet" title="Link to this heading">#</a></h2>
<p>Para leer un archivo JSON desde internet utilizando el módulo <code class="docutils literal notranslate"><span class="pre">requests</span></code> en Python, se puede hacer lo siguiente:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import requests
</pre></div>
</div>
<p>Hcemos una solicitud HTTP GET al servidor que contiene el archivo JSON utilizando la función <code class="docutils literal notranslate"><span class="pre">get()</span></code> de <code class="docutils literal notranslate"><span class="pre">requests</span></code>. La respuesta de la solicitud será un objeto <code class="docutils literal notranslate"><span class="pre">Response</span></code> que contiene la información de la respuesta del servidor.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>response = requests.get(url)
</pre></div>
</div>
<p>Donde <code class="docutils literal notranslate"><span class="pre">url</span></code> es la dirección URL del archivo JSON que deseamos leer.</p>
<p>Verificamos que la solicitud se haya realizado correctamente en base al código de estado de la respuesta. Si el código de estado es <code class="docutils literal notranslate"><span class="pre">200</span></code>, significa que la solicitud se realizó correctamente.</p>
<p>Si la solicitud se realizó correctamente, puedes acceder al contenido del archivo JSON utilizando el método <code class="docutils literal notranslate"><span class="pre">json()</span></code> del objeto <code class="docutils literal notranslate"><span class="pre">Response</span></code>. Este método decodifica el contenido JSON y devuelve un objeto Python que representa los datos del archivo JSON.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>if response.status_code == 200:
    # El archivo JSON fue encontrado y cargado correctamente
    data = response.json()
else:
    print(&#39;Hubo un problema al cargar el archivo JSON&#39;)
</pre></div>
</div>
<p>El objeto data ahora contiene los datos del archivo JSON, los cuales podemos utilizar en tu programa como cualquier otro objeto Python.</p>
<p><strong>Ejemplo.</strong> Leeremos un archivo de internet con los siguientes datos:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&quot;catalog&quot;:
    {&quot;book&quot;:
    [
        {&quot;@id&quot;: &quot;bk101&quot;,
            &quot;author&quot;: [&quot;Gambardella, Matthew&quot;],
            &quot;title&quot;: &quot;XML Developer&#39;s Guide&quot;,
            &quot;genre&quot;: &quot;Computer&quot;,
            &quot;price&quot;: &quot;44.95&quot;,
            &quot;publish_date&quot;: &quot;2000-10-01&quot;,
            &quot;description&quot;: &quot;An in-depth look at creating applications with XML.&quot;},
        {&quot;@id&quot;: &quot;bk102&quot;,
            &quot;author&quot;: [&quot;Ralls, Kim&quot;, &quot;Gambardella, Matthew&quot;],
            &quot;title&quot;: &quot;Midnight Rain&quot;,
            &quot;genre&quot;: &quot;Fantasy&quot;,
            &quot;price&quot;: &quot;5.95&quot;,
            &quot;publish_date&quot;: &quot;2000-12-16&quot;,
            &quot;description&quot;: &quot;A former architect battles ...&quot;},
        ...
        ...
    ]
    }
}
</pre></div>
</div>
<p>El archivo completo se encuentra en <a class="reference external" href="https://tirabo.github.io/files_ayp/books.json">https://tirabo.github.io/files_ayp/books.json</a></p>
<p>Leamos el archivo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://tirabo.github.io/files_ayp/books.json&#39;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="c1"># El archivo JSON fue encontrado y cargado correctamente</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hubo un problema al cargar el archivo JSON&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200
</pre></div>
</div>
</div>
</div>
<p>Imprimamos su contenido:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;dict&#39;&gt;
{&#39;catalog&#39;: {&#39;book&#39;: [{&#39;@id&#39;: &#39;bk101&#39;, &#39;author&#39;: [&#39;Gambardella, Matthew&#39;], &#39;title&#39;: &quot;XML Developer&#39;s Guide&quot;, &#39;genre&#39;: &#39;Computer&#39;, &#39;price&#39;: &#39;44.95&#39;, &#39;publish_date&#39;: &#39;2000-10-01&#39;, &#39;description&#39;: &#39;An in-depth look at creating applications with XML.&#39;}, {&#39;@id&#39;: &#39;bk102&#39;, &#39;author&#39;: [&#39;Ralls, Kim&#39;, &#39;Gambardella, Matthew&#39;], &#39;title&#39;: &#39;Midnight Rain&#39;, &#39;genre&#39;: &#39;Fantasy&#39;, &#39;price&#39;: &#39;5.95&#39;, &#39;publish_date&#39;: &#39;2000-12-16&#39;, &#39;description&#39;: &#39;A former architect battles corporate zombies, an evil sorceress, and her own childhood to become queen of the world.&#39;}, {&#39;@id&#39;: &#39;bk103&#39;, &#39;author&#39;: [&#39;Corets, Eva&#39;], &#39;title&#39;: &#39;Maeve Ascendant&#39;, &#39;genre&#39;: &#39;Fantasy&#39;, &#39;price&#39;: &#39;5.95&#39;, &#39;publish_date&#39;: &#39;2000-11-17&#39;, &#39;description&#39;: &#39;After the collapse of a nanotechnology society in England, the young survivors lay the foundation for a new society.&#39;}, {&#39;@id&#39;: &#39;bk104&#39;, &#39;author&#39;: [&#39;Corets, Eva&#39;], &#39;title&#39;: &quot;Oberon&#39;s Legacy&quot;, &#39;genre&#39;: &#39;Fantasy&#39;, &#39;price&#39;: &#39;5.95&#39;, &#39;publish_date&#39;: &#39;2001-03-10&#39;, &#39;description&#39;: &#39;In post-apocalypse England, the mysterious agent known only as Oberon helps to create a new life for the inhabitants of London. Sequel to Maeve Ascendant.&#39;}, {&#39;@id&#39;: &#39;bk105&#39;, &#39;author&#39;: [&#39;Corets, Eva&#39;], &#39;title&#39;: &#39;The Sundered Grail&#39;, &#39;genre&#39;: &#39;Fantasy&#39;, &#39;price&#39;: &#39;5.95&#39;, &#39;publish_date&#39;: &#39;2001-09-10&#39;, &#39;description&#39;: &quot;The two daughters of Maeve, half-sisters, battle one another for control of England. Sequel to Oberon&#39;s Legacy.&quot;}, {&#39;@id&#39;: &#39;bk106&#39;, &#39;author&#39;: [&#39;Randall, Cynthia&#39;], &#39;title&#39;: &#39;Lover Birds&#39;, &#39;genre&#39;: &#39;Romance&#39;, &#39;price&#39;: &#39;4.95&#39;, &#39;publish_date&#39;: &#39;2000-09-02&#39;, &#39;description&#39;: &#39;When Carla meets Paul at an ornithology conference, tempers fly as feathers get ruffled.&#39;}, {&#39;@id&#39;: &#39;bk107&#39;, &#39;author&#39;: [&#39;Thurman, Paula&#39;], &#39;title&#39;: &#39;Splish Splash&#39;, &#39;genre&#39;: &#39;Romance&#39;, &#39;price&#39;: &#39;4.95&#39;, &#39;publish_date&#39;: &#39;2000-11-02&#39;, &#39;description&#39;: &#39;A deep sea diver finds true love twenty thousand leagues beneath the sea.&#39;}, {&#39;@id&#39;: &#39;bk108&#39;, &#39;author&#39;: [&#39;Knorr, Stefan&#39;], &#39;title&#39;: &#39;Creepy Crawlies&#39;, &#39;genre&#39;: &#39;Horror&#39;, &#39;price&#39;: &#39;4.95&#39;, &#39;publish_date&#39;: &#39;2000-12-06&#39;, &#39;description&#39;: &#39;An anthology of horror stories about roaches, centipedes, scorpions  and other insects.&#39;}, {&#39;@id&#39;: &#39;bk109&#39;, &#39;author&#39;: [&#39;Kress, Peter&#39;], &#39;title&#39;: &#39;Paradox Lost&#39;, &#39;genre&#39;: &#39;Science Fiction&#39;, &#39;price&#39;: &#39;6.95&#39;, &#39;publish_date&#39;: &#39;2000-11-02&#39;, &#39;description&#39;: &#39;After an inadvertant trip through a Heisenberg Uncertainty Device, James Salway discovers the problems of being quantum.&#39;}, {&#39;@id&#39;: &#39;bk110&#39;, &#39;author&#39;: [&quot;O&#39;Brien, Tim&quot;], &#39;title&#39;: &#39;Microsoft .NET: The Programming Bible&#39;, &#39;genre&#39;: &#39;Computer&#39;, &#39;price&#39;: &#39;36.95&#39;, &#39;publish_date&#39;: &#39;2000-12-09&#39;, &#39;description&#39;: &quot;Microsoft&#39;s .NET initiative is explored in detail in this deep programmer&#39;s reference.&quot;}, {&#39;@id&#39;: &#39;bk111&#39;, &#39;author&#39;: [&quot;O&#39;Brien, Tim&quot;], &#39;title&#39;: &#39;MSXML3: A Comprehensive Guide&#39;, &#39;genre&#39;: &#39;Computer&#39;, &#39;price&#39;: &#39;36.95&#39;, &#39;publish_date&#39;: &#39;2000-12-01&#39;, &#39;description&#39;: &#39;The Microsoft MSXML3 parser is covered in detail, with attention to XML DOM interfaces, XSLT processing, SAX and more.&#39;}, {&#39;@id&#39;: &#39;bk112&#39;, &#39;author&#39;: [&#39;Galos, Mike&#39;], &#39;title&#39;: &#39;Visual Studio 7: A Comprehensive Guide&#39;, &#39;genre&#39;: &#39;Computer&#39;, &#39;price&#39;: &#39;49.95&#39;, &#39;publish_date&#39;: &#39;2001-04-16&#39;, &#39;description&#39;: &#39;Microsoft Visual Studio 7 is explored in depth, looking at how Visual Basic, Visual C++, C#, and ASP+ are integrated into a comprehensive development environment.&#39;}]}}
</pre></div>
</div>
</div>
</div>
<p>Luego si deseamos obtener metadatos del primer libro podemos hacer:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;catalog&#39;</span><span class="p">][</span><span class="s1">&#39;book&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;@id&#39;: &#39;bk101&#39;,
 &#39;author&#39;: [&#39;Gambardella, Matthew&#39;],
 &#39;title&#39;: &quot;XML Developer&#39;s Guide&quot;,
 &#39;genre&#39;: &#39;Computer&#39;,
 &#39;price&#39;: &#39;44.95&#39;,
 &#39;publish_date&#39;: &#39;2000-10-01&#39;,
 &#39;description&#39;: &#39;An in-depth look at creating applications with XML.&#39;}
</pre></div>
</div>
</div>
</div>
<p>Si deseamos imprimir los títulos de todos los libros podemos hacer:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">libro</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;catalog&#39;</span><span class="p">][</span><span class="s1">&#39;book&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">libro</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>XML Developer&#39;s Guide
Midnight Rain
Maeve Ascendant
Oberon&#39;s Legacy
The Sundered Grail
Lover Birds
Splish Splash
Creepy Crawlies
Paradox Lost
Microsoft .NET: The Programming Bible
MSXML3: A Comprehensive Guide
Visual Studio 7: A Comprehensive Guide
</pre></div>
</div>
</div>
</div>
<p><em>Observación.</em> Como suele ocurrir en Python hay varias formas de hacer las cosas y este caso no es la excepción: para bajar un archivo JSON de internet y convertirlo en una lista o diccionario Python podemos hacer como sigue.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://tirabo.github.io/files_ayp/books.json&#39;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="c1"># El archivo JSON fue encontrado y cargado correctamente</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hubo un problema al cargar el archivo JSON&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Es decir,  hemos utilizado el módulo <code class="docutils literal notranslate"><span class="pre">json</span></code> y cambiamos <code class="docutils literal notranslate"><span class="pre">response.json()</span></code> por <code class="docutils literal notranslate"><span class="pre">json.loads(response.text)</span></code>.</p>
<p>El resultado es el mismo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;catalog&#39;</span><span class="p">][</span><span class="s1">&#39;book&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;dict&#39;&gt; {&#39;catalog&#39;: {&#39;book&#39;: [{&#39;@id&#39;: &#39;bk101&#39;, &#39;author&#39;: [&#39;Gambardella, Matthew&#39;], &#39;title&#39;: &quot;XML Developer&#39;s Guide&quot;, &#39;genre&#39;: &#39;Computer&#39;, &#39;price&#39;: &#39;44.95&#39;, &#39;publish_date&#39;: &#39;2000-10-01&#39;, &#39;description&#39;: &#39;An in-depth look at creating applications with XML.&#39;}, {&#39;@id&#39;: &#39;bk102&#39;, &#39;author&#39;: [&#39;Ralls, Kim&#39;, &#39;Gambardella, Matthew&#39;], &#39;title&#39;: &#39;Midnight Rain&#39;, &#39;genre&#39;: &#39;Fantasy&#39;, &#39;price&#39;: &#39;5.95&#39;, &#39;publish_date&#39;: &#39;2000-12-16&#39;, &#39;description&#39;: &#39;A former architect battles corporate zombies, an evil sorceress, and her own childhood to become queen of the world.&#39;}, {&#39;@id&#39;: &#39;bk103&#39;, &#39;author&#39;: [&#39;Corets, Eva&#39;], &#39;title&#39;: &#39;Maeve Ascendant&#39;, &#39;genre&#39;: &#39;Fantasy&#39;, &#39;price&#39;: &#39;5.95&#39;, &#39;publish_date&#39;: &#39;2000-11-17&#39;, &#39;description&#39;: &#39;After the collapse of a nanotechnology society in England, the young survivors lay the foundation for a new society.&#39;}, {&#39;@id&#39;: &#39;bk104&#39;, &#39;author&#39;: [&#39;Corets, Eva&#39;], &#39;title&#39;: &quot;Oberon&#39;s Legacy&quot;, &#39;genre&#39;: &#39;Fantasy&#39;, &#39;price&#39;: &#39;5.95&#39;, &#39;publish_date&#39;: &#39;2001-03-10&#39;, &#39;description&#39;: &#39;In post-apocalypse England, the mysterious agent known only as Oberon helps to create a new life for the inhabitants of London. Sequel to Maeve Ascendant.&#39;}, {&#39;@id&#39;: &#39;bk105&#39;, &#39;author&#39;: [&#39;Corets, Eva&#39;], &#39;title&#39;: &#39;The Sundered Grail&#39;, &#39;genre&#39;: &#39;Fantasy&#39;, &#39;price&#39;: &#39;5.95&#39;, &#39;publish_date&#39;: &#39;2001-09-10&#39;, &#39;description&#39;: &quot;The two daughters of Maeve, half-sisters, battle one another for control of England. Sequel to Oberon&#39;s Legacy.&quot;}, {&#39;@id&#39;: &#39;bk106&#39;, &#39;author&#39;: [&#39;Randall, Cynthia&#39;], &#39;title&#39;: &#39;Lover Birds&#39;, &#39;genre&#39;: &#39;Romance&#39;, &#39;price&#39;: &#39;4.95&#39;, &#39;publish_date&#39;: &#39;2000-09-02&#39;, &#39;description&#39;: &#39;When Carla meets Paul at an ornithology conference, tempers fly as feathers get ruffled.&#39;}, {&#39;@id&#39;: &#39;bk107&#39;, &#39;author&#39;: [&#39;Thurman, Paula&#39;], &#39;title&#39;: &#39;Splish Splash&#39;, &#39;genre&#39;: &#39;Romance&#39;, &#39;price&#39;: &#39;4.95&#39;, &#39;publish_date&#39;: &#39;2000-11-02&#39;, &#39;description&#39;: &#39;A deep sea diver finds true love twenty thousand leagues beneath the sea.&#39;}, {&#39;@id&#39;: &#39;bk108&#39;, &#39;author&#39;: [&#39;Knorr, Stefan&#39;], &#39;title&#39;: &#39;Creepy Crawlies&#39;, &#39;genre&#39;: &#39;Horror&#39;, &#39;price&#39;: &#39;4.95&#39;, &#39;publish_date&#39;: &#39;2000-12-06&#39;, &#39;description&#39;: &#39;An anthology of horror stories about roaches, centipedes, scorpions  and other insects.&#39;}, {&#39;@id&#39;: &#39;bk109&#39;, &#39;author&#39;: [&#39;Kress, Peter&#39;], &#39;title&#39;: &#39;Paradox Lost&#39;, &#39;genre&#39;: &#39;Science Fiction&#39;, &#39;price&#39;: &#39;6.95&#39;, &#39;publish_date&#39;: &#39;2000-11-02&#39;, &#39;description&#39;: &#39;After an inadvertant trip through a Heisenberg Uncertainty Device, James Salway discovers the problems of being quantum.&#39;}, {&#39;@id&#39;: &#39;bk110&#39;, &#39;author&#39;: [&quot;O&#39;Brien, Tim&quot;], &#39;title&#39;: &#39;Microsoft .NET: The Programming Bible&#39;, &#39;genre&#39;: &#39;Computer&#39;, &#39;price&#39;: &#39;36.95&#39;, &#39;publish_date&#39;: &#39;2000-12-09&#39;, &#39;description&#39;: &quot;Microsoft&#39;s .NET initiative is explored in detail in this deep programmer&#39;s reference.&quot;}, {&#39;@id&#39;: &#39;bk111&#39;, &#39;author&#39;: [&quot;O&#39;Brien, Tim&quot;], &#39;title&#39;: &#39;MSXML3: A Comprehensive Guide&#39;, &#39;genre&#39;: &#39;Computer&#39;, &#39;price&#39;: &#39;36.95&#39;, &#39;publish_date&#39;: &#39;2000-12-01&#39;, &#39;description&#39;: &#39;The Microsoft MSXML3 parser is covered in detail, with attention to XML DOM interfaces, XSLT processing, SAX and more.&#39;}, {&#39;@id&#39;: &#39;bk112&#39;, &#39;author&#39;: [&#39;Galos, Mike&#39;], &#39;title&#39;: &#39;Visual Studio 7: A Comprehensive Guide&#39;, &#39;genre&#39;: &#39;Computer&#39;, &#39;price&#39;: &#39;49.95&#39;, &#39;publish_date&#39;: &#39;2001-04-16&#39;, &#39;description&#39;: &#39;Microsoft Visual Studio 7 is explored in depth, looking at how Visual Basic, Visual C++, C#, and ASP+ are integrated into a comprehensive development environment.&#39;}]}}
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;@id&#39;: &#39;bk101&#39;,
 &#39;author&#39;: [&#39;Gambardella, Matthew&#39;],
 &#39;title&#39;: &quot;XML Developer&#39;s Guide&quot;,
 &#39;genre&#39;: &#39;Computer&#39;,
 &#39;price&#39;: &#39;44.95&#39;,
 &#39;publish_date&#39;: &#39;2000-10-01&#39;,
 &#39;description&#39;: &#39;An in-depth look at creating applications with XML.&#39;}
</pre></div>
</div>
</div>
</div>
</section>
<section id="lectura-y-escritura-de-archivos-xml">
<h2>4. Lectura y escritura de archivos XML<a class="headerlink" href="#lectura-y-escritura-de-archivos-xml" title="Link to this heading">#</a></h2>
<p>Un archivo XML (Extensible Markup Language) es un tipo de archivo de texto que se utiliza para almacenar y transportar datos de manera estructurada. Un archivo XML está compuesto por una serie de etiquetas que definen elementos y atributos que describen la estructura y los datos contenidos en el archivo.</p>
<p>Cada elemento en un archivo XML está compuesto por una etiqueta de apertura y una etiqueta de cierre, y puede contener elementos anidados y atributos. Por ejemplo, el siguiente es un ejemplo simple de un archivo XML que contiene información sobre una persona:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;persona&gt;
&lt;nombre&gt;Juan&lt;/nombre&gt;
&lt;edad&gt;30&lt;/edad&gt;
&lt;ciudad&gt;Córdoba&lt;/ciudad&gt;
&lt;/persona&gt;
</pre></div>
</div>
<p>En este ejemplo, el elemento <code class="docutils literal notranslate"><span class="pre">persona</span></code> es el elemento raíz del archivo XML, y contiene tres elementos anidados: <code class="docutils literal notranslate"><span class="pre">nombre</span></code>, <code class="docutils literal notranslate"><span class="pre">edad</span></code> y <code class="docutils literal notranslate"><span class="pre">ciudad</span></code>. Cada uno de estos elementos tiene un valor asociado, que se encuentra entre las etiquetas de apertura y cierre.</p>
<p>Los archivos XML se utilizan comúnmente para intercambiar datos entre diferentes sistemas o aplicaciones, ya que proporcionan una forma estructurada y legible por máquinas para representar la información. También se pueden utilizar para definir y describir documentos y aplicaciones complejas, como documentos de ayuda en línea, aplicaciones web y formatos de archivo personalizados.</p>
<p>Esta estructura se puede implmentar en JSON también:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;persona&#39;:  [{&#39;nombre&#39;: &#39;Juan&#39;}, {&#39;edad&#39;: &#39;30&#39;}, {&#39;ciudad&#39;: &#39;Córdoba&#39;}]
</pre></div>
</div>
<p>Obviamente hay otras formas de hacerlo.</p>
<section id="elementos-y-atributos">
<h3>4.1. Elementos y atributos<a class="headerlink" href="#elementos-y-atributos" title="Link to this heading">#</a></h3>
<p>En XML, los <em>elementos</em> son las partes principales de un documento XML y representan los distintos elementos de información que se están describiendo en el documento. Los elementos tienen un nombre que los identifica y pueden contener <em>otros elementos</em>, <em>atributos</em> o <em>texto</em>.</p>
<p>Por ejemplo, en el siguiente fragmento de código XML, <code class="docutils literal notranslate"><span class="pre">&lt;trkpt&gt;</span></code> y <code class="docutils literal notranslate"><span class="pre">&lt;ele&gt;</span></code> son elementos:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;trkpt lat=&quot;-30.9424310&quot; lon=&quot;-64.2770290&quot;&gt;
    &lt;ele&gt;740.7&lt;/ele&gt;
&lt;/trkpt&gt;
</pre></div>
</div>
<p>Los <em>atributos</em>, por otro lado, proporcionan información adicional sobre los elementos y se utilizan para describir características específicas del elemento. Los atributos se incluyen dentro de la etiqueta del elemento y tienen un nombre y un valor.</p>
<p>En el ejemplo anterior, <code class="docutils literal notranslate"><span class="pre">lat</span></code> y <code class="docutils literal notranslate"><span class="pre">lon</span></code> son atributos del elemento <code class="docutils literal notranslate"><span class="pre">&lt;trkpt&gt;</span></code>. El valor de los atributos se especifica entre comillas dobles después del nombre del atributo, separado por un signo igual.</p>
<p>Los elementos y atributos en XML se utilizan para estructurar y describir los datos de forma clara y organizada. Los elementos proporcionan la estructura general del documento XML y los atributos permiten proporcionar información adicional sobre los elementos.</p>
</section>
<section id="xml-dom">
<h3>4.2. xml.dom<a class="headerlink" href="#xml-dom" title="Link to this heading">#</a></h3>
<p>La biblioteca <code class="docutils literal notranslate"><span class="pre">xml.dom</span></code> de Python es una biblioteca estándar que proporciona una forma de analizar y manipular documentos XML mediante el modelo de objetos del documento (DOM, por sus siglas en inglés). El modelo DOM representa el documento XML como un árbol de nodos, donde cada nodo representa un elemento, atributo, texto u otro tipo de contenido en el documento.</p>
<p>Para obtener elementos y atributos de un documento XML utilizando la biblioteca xml.dom, puedes seguir estos pasos:</p>
<p>Importar la biblioteca y abrir el archivo XML:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import xml.dom.minidom
# Abrir archivo XML
doc = xml.dom.minidom.parse(&quot;archivo.xml&quot;)
</pre></div>
</div>
<p>Si los datos vienen dados por una cadena, en vez de un archivo,  cambia un poco el código:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import xml.dom.minidom
# Abrir cadena XML
doc = xml.dom.minidom.parseString(xml_string)
</pre></div>
</div>
<p>Obtener los elementos del documento mediante el método <code class="docutils literal notranslate"><span class="pre">getElementsByTagName</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Obtener elementos
elementos = doc.getElementsByTagName(&quot;nombre_del_elemento&quot;)
</pre></div>
</div>
<p>Obtener los atributos de un elemento mediante el método <code class="docutils literal notranslate"><span class="pre">getAttribute</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Obtener atributo
valor_atributo = elementos[0].getAttribute(&quot;nombre_del_atributo&quot;)
</pre></div>
</div>
<p>Obtener el contenido de un elemento mediante el método <code class="docutils literal notranslate"><span class="pre">firstChild.nodeValue</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Obtener contenido
contenido = elementos[0].firstChild.nodeValue
</pre></div>
</div>
<p>En el ejemplo anterior, se utiliza <code class="docutils literal notranslate"><span class="pre">xml.dom.minidom</span></code> para parsear el archivo XML y convertirlo en un objeto <code class="docutils literal notranslate"><span class="pre">Document</span></code>. Luego, se utiliza el método <code class="docutils literal notranslate"><span class="pre">getElementsByTagName</span></code> para obtener todos los elementos del documento con un nombre de etiqueta específico. Una vez que se tienen los elementos, se pueden obtener sus atributos utilizando el método <code class="docutils literal notranslate"><span class="pre">getAttribute</span></code> y su contenido utilizando la propiedad <code class="docutils literal notranslate"><span class="pre">firstChild.nodeValue</span></code>.</p>
<p>Es importante tener en cuenta que el método <code class="docutils literal notranslate"><span class="pre">getElementsByTagName</span></code> devuelve una lista de elementos, incluso si solo hay un elemento con el nombre de etiqueta especificado en el documento. Por lo tanto, en el ejemplo anterior se utiliza <code class="docutils literal notranslate"><span class="pre">elementos[0]</span></code> para acceder al primer elemento de la lista. Si se espera que solo haya un elemento con el nombre de etiqueta especificado en el documento, se puede utilizar <code class="docutils literal notranslate"><span class="pre">getElementsByTagName(nombre_del_elemento)[0]</span></code> para obtener directamente ese elemento.</p>
</section>
<section id="ejemplo">
<h3>4.3. Ejemplo<a class="headerlink" href="#ejemplo" title="Link to this heading">#</a></h3>
<p>Veamos ahora un archivo XML de internet,  con una estructura no demasiado complicada pero con más registros. El archivo que vamos a leer es <code class="docutils literal notranslate"><span class="pre">books.xml</span></code> y su estrucura es:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;catalog&gt;
&lt;book id=&quot;bk101&quot;&gt;
    &lt;author&gt;Gambardella, Matthew&lt;/author&gt;
    &lt;title&gt;XML Developer&#39;s Guide&lt;/title&gt;
    &lt;genre&gt;Computer&lt;/genre&gt;
    &lt;price&gt;44.95&lt;/price&gt;
    &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;
    &lt;description&gt;An in-depth look at creating applications
    with XML.&lt;/description&gt;
&lt;/book&gt;
&lt;book id=&quot;bk102&quot;&gt;
    &lt;author&gt;Ralls, Kim&lt;/author&gt;
    &lt;author&gt;Gambardella, Matthew&lt;/author&gt;
    &lt;title&gt;Midnight Rain&lt;/title&gt;
    &lt;genre&gt;Fantasy&lt;/genre&gt;
    &lt;price&gt;5.95&lt;/price&gt;
    &lt;publish_date&gt;2000-12-16&lt;/publish_date&gt;
    &lt;description&gt;A former architect battles corporate zombies,
    an evil sorceress, and her own childhood to become queen
    of the world.&lt;/description&gt;
&lt;/book&gt;
    ...
    ...
&lt;/catalog&gt;
</pre></div>
</div>
<p>Es decir, es un catálogo de libros y  cada libro contiene información sobre el título,  su autor o autores,  etc. Observar que este archivo no puede ser representado en formato CSV, pues el elemento <code class="docutils literal notranslate"><span class="pre">author</span></code>se puede repetir un número indeterminado de veces.</p>
<p>La ubicación del archivo es</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>https://raw.githubusercontent.com/tirabo/Algoritmos-y-Programacion/main/2023/archivos/books.xml
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/tirabo/Algoritmos-y-Programacion/main/2023/archivos/books.xml&#39;</span><span class="p">)</span>
<span class="n">xml_string</span> <span class="o">=</span> <span class="n">respuesta</span><span class="o">.</span><span class="n">content</span>
<span class="n">respuesta</span><span class="o">.</span><span class="n">status_code</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">200</span></code> nos indica que el archivo ha sido leido sin inconvenientes.</p>
<p>Ahora procederemos a “parsear”  el archivo (que es un XML), usando las instrucciones que vimos más arriba:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xml.dom.minidom</span>
<span class="c1"># Abrir cadena XML</span>
<span class="n">dom</span> <span class="o">=</span> <span class="n">xml</span><span class="o">.</span><span class="n">dom</span><span class="o">.</span><span class="n">minidom</span><span class="o">.</span><span class="n">parseString</span><span class="p">(</span><span class="n">xml_string</span><span class="p">)</span> <span class="c1"># cuando viene dado por una cadena</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tipo  de dom:&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">dom</span><span class="p">))</span>
<span class="c1"># Obtener elementos</span>
<span class="n">elementos</span> <span class="o">=</span> <span class="n">dom</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;book&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;El  primer elemento book:&#39;</span><span class="p">,</span><span class="n">elementos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;El  segundo elemento book:&#39;</span><span class="p">,</span><span class="n">elementos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="c1"># Obtener atributo</span>
<span class="n">valor_atributo</span> <span class="o">=</span> <span class="n">elementos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Atributo </span><span class="se">\&#39;</span><span class="s1">id</span><span class="se">\&#39;</span><span class="s1"> del primer elemento </span><span class="se">\&#39;</span><span class="s1">book</span><span class="se">\&#39;</span><span class="s1">:&#39;</span><span class="p">,</span> <span class="n">valor_atributo</span><span class="p">)</span>
<span class="n">valor_atributo_1</span> <span class="o">=</span> <span class="n">elementos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Atributo </span><span class="se">\&#39;</span><span class="s1">id</span><span class="se">\&#39;</span><span class="s1"> del segundo elemento </span><span class="se">\&#39;</span><span class="s1">book</span><span class="se">\&#39;</span><span class="s1">:&#39;</span><span class="p">,</span> <span class="n">valor_atributo_1</span><span class="p">)</span>

<span class="c1"># Obtener contenido</span>
<span class="n">contenido</span> <span class="o">=</span> <span class="n">elementos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">firstChild</span><span class="o">.</span><span class="n">nodeValue</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">contenido</span><span class="p">),</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">contenido</span><span class="p">)</span> <span class="c1"># no hay contenido de texto</span>
<span class="n">autor</span> <span class="o">=</span> <span class="n">elementos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;author&quot;</span><span class="p">)</span>
<span class="n">contenido</span> <span class="o">=</span> <span class="n">autor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">firstChild</span><span class="o">.</span><span class="n">nodeValue</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;El primer autor del primer libro es:&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">contenido</span><span class="p">),</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">contenido</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>tipo  de dom: &lt;class &#39;xml.dom.minidom.Document&#39;&gt;
El  primer elemento book: &lt;DOM Element: book at 0x7bf5869e8040&gt;
El  segundo elemento book: &lt;DOM Element: book at 0x7bf5869eaef0&gt;
Atributo &#39;id&#39; del primer elemento &#39;book&#39;: bk101
Atributo &#39;id&#39; del segundo elemento &#39;book&#39;: bk102
&lt;class &#39;str&#39;&gt; : 
      
El primer autor del primer libro es: &lt;class &#39;str&#39;&gt; : Gambardella, Matthew
</pre></div>
</div>
</div>
</div>
<p>Observar que el segundo libro tiene dos autores, por lo tanto para recuperar todos los autores por cada <code class="docutils literal notranslate"><span class="pre">id</span></code> podemos hacer:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">libros</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">elemento</span> <span class="ow">in</span> <span class="n">elementos</span><span class="p">:</span>
    <span class="n">id_libro</span> <span class="o">=</span> <span class="n">elemento</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
    <span class="n">autores_obj</span> <span class="o">=</span> <span class="n">elemento</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;author&quot;</span><span class="p">)</span>
    <span class="n">autores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">autor</span> <span class="ow">in</span> <span class="n">autores_obj</span><span class="p">:</span>
        <span class="n">autores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">autor</span><span class="o">.</span><span class="n">firstChild</span><span class="o">.</span><span class="n">nodeValue</span><span class="p">)</span>
    <span class="n">libros</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">id_libro</span><span class="p">,</span>  <span class="n">autores</span><span class="p">))</span>

<span class="k">for</span> <span class="n">libro</span> <span class="ow">in</span> <span class="n">libros</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">libro</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;bk101&#39;, [&#39;Gambardella, Matthew&#39;])
(&#39;bk102&#39;, [&#39;Ralls, Kim&#39;, &#39;Gambardella, Matthew&#39;])
(&#39;bk103&#39;, [&#39;Corets, Eva&#39;])
(&#39;bk104&#39;, [&#39;Corets, Eva&#39;])
(&#39;bk105&#39;, [&#39;Corets, Eva&#39;])
(&#39;bk106&#39;, [&#39;Randall, Cynthia&#39;])
(&#39;bk107&#39;, [&#39;Thurman, Paula&#39;])
(&#39;bk108&#39;, [&#39;Knorr, Stefan&#39;])
(&#39;bk109&#39;, [&#39;Kress, Peter&#39;])
(&#39;bk110&#39;, [&quot;O&#39;Brien, Tim&quot;])
(&#39;bk111&#39;, [&quot;O&#39;Brien, Tim&quot;])
(&#39;bk112&#39;, [&#39;Galos, Mike&#39;])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="uso-de-apis">
<h2>5. Uso de APIs<a class="headerlink" href="#uso-de-apis" title="Link to this heading">#</a></h2>
<p>Una API (Interfaz de Programación de Aplicaciones) es un conjunto de reglas y protocolos que permite que diferentes aplicaciones de software se comuniquen e intercambien datos entre sí. Es como un puente que conecta aplicaciones y les permite compartir información y funcionalidades.</p>
<p>Por ejemplo, (ver [2]), si se tiene una app para móviles acerca de recetas y se hace una búsqueda de una determinada receta, se puede utilizar una API para que esta aplicación se comunique con el sitio web de recetas y pida las recetas que cumplen con los criterios de búsqueda. La API entonces se encarga de recibir la solicitud, buscar las recetas apropiadas y regresar los resultados a la aplicación. Una API es una forma de conectar diferentes aplicaciones y hacer que trabajen juntas de manera más eficiente y efectiva.</p>
<p>Las APIS <em>no</em> son lenguaje dependientes,  es decir cualquier lenguaje moderno de programación (Python, Java, C++, etc) puede invocar y utilizar una API bien definida.</p>
<p>Algunas características clave de las APIs:</p>
<ul class="simple">
<li><p>Permiten que aplicaciones se comuniquen de manera segura y controlada, sin exponer todos los detalles internos de cada sistema. [1][2][4]</p></li>
<li><p>Proporcionan una forma estandarizada y documentada para que los desarrolladores puedan acceder a los datos y funcionalidades de otras aplicaciones. [1][2][4]</p></li>
<li><p>Facilitan el desarrollo de aplicaciones al permitir reutilizar funciones y datos existentes, en lugar de tener que crearlos desde cero. [1][4]</p></li>
<li><p>Pueden ser públicas (abiertas al público), privadas (solo para uso interno) o asociadas a socios comerciales. [1][4]</p></li>
<li><p>Utilizan protocolos como HTTP, REST y SOAP para definir cómo se realizan las solicitudes y respuestas entre aplicaciones. [3][4]</p></li>
</ul>
<p>En resumen, las APIs son la forma en que las aplicaciones se comunican y comparten información de manera segura y estandarizada, lo que permite a los desarrolladores crear nuevas funcionalidades y experiencias de usuario más rápidamente. [1][4]</p>
<p>Referencias:</p>
<ul class="simple">
<li><p>[1] <a class="reference external" href="https://www.ibm.com/topics/api">https://www.ibm.com/topics/api</a></p></li>
<li><p>[2] <a class="reference external" href="https://es.wikipedia.org/wiki/API">https://es.wikipedia.org/wiki/API</a></p></li>
<li><p>[3] <a class="reference external" href="https://www.techtarget.com/searchapparchitecture/definition/application-program-interface-API">https://www.techtarget.com/searchapparchitecture/definition/application-program-interface-API</a></p></li>
<li><p>[4] <a class="reference external" href="https://www.mulesoft.com/resources/api/what-is-an-api">https://www.mulesoft.com/resources/api/what-is-an-api</a></p></li>
<li><p>[5] <a class="reference external" href="https://www.computer.org/publications/tech-news/trends/what-are-apis/">https://www.computer.org/publications/tech-news/trends/what-are-apis/</a></p></li>
</ul>
<section id="ejemplo-la-api-del-noaa">
<h3>Ejemplo: la API del NOAA<a class="headerlink" href="#ejemplo-la-api-del-noaa" title="Link to this heading">#</a></h3>
<p>La Oficina Nacional de Administración Oceánica y Atmosférica (National Oceanic and Atmospheric Administration, NOAA) es una agencia científica del Departamento de Comercio de los Estados Unidos cuyas actividades se centran en monitorear las condiciones de los océanos y la atmósfera.</p>
<p>El NOAA ofrece distintos <em>datasets</em> (conjuntos de datos estructurados) sin limitaciones. Los datos puedes ser bajados directamente del sitio web https://www.noaa.gov/ o, alternativamente, accedidos por API.</p>
<p>En esta sección accederemos a los datasets utilizando la API. Para utilizar la API se debe solicitar  un <em>token</em> al NOAA (ver <em>Referencias</em>, más abajo). El token es una cadena de caracteres que funciona como id y password al mismo tiempo.</p>
<p>Ahora utilizaremos un token obtenido para esta clase,  pero pueden obtener rápidamente una en forma individual.</p>
<p>Si al comienzo ponemos</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import requests
token = &#39;nuestro token&#39;
my_headers = {&#39;token&#39; : token}
response = requests.get(&#39;https://www.ncdc.noaa.gov/cdo-web/api/v2/datasets&#39;, headers=my_headers)
respuesta = response.json()
resultados = respuesta[&#39;results&#39;] # Datasets disponible
for w in resultados:
  pass
  print(w[&#39;uid&#39;],&#39;:&#39;,w[&#39;name&#39;])
</pre></div>
</div>
<p>obtendremos el <code class="docutils literal notranslate"><span class="pre">id</span></code> de cada uno de los datasets ofrecidos por el NOAA via API y una breve descripción de los mismos.</p>
<p>Implementamos el código de más arriba agregando el token y  excepciones para que el código sea más robusto.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">token</span> <span class="o">=</span> <span class="s1">&#39;LsJXpYprYMzOKjMtqAlDmMUzwGelIQDf&#39;</span>
<span class="n">my_headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;token&#39;</span> <span class="p">:</span> <span class="n">token</span><span class="p">}</span>
<span class="k">try</span> <span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://www.ncdc.noaa.gov/cdo-web/api/v2/datasets&#39;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">my_headers</span><span class="p">)</span>
    <span class="n">status_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span>
<span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="c1"># imprime en la terminal el error que se produjo</span>
    <span class="n">status_code</span> <span class="o">=</span> <span class="mi">550</span>

<span class="n">respuesta</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="n">resultados</span> <span class="o">=</span> <span class="n">respuesta</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">]</span> <span class="c1"># Datasets disponible</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">resultados</span><span class="p">:</span>
    <span class="k">pass</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="s1">&#39;uid&#39;</span><span class="p">],</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="n">w</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>gov.noaa.ncdc:C00861 : Daily Summaries
gov.noaa.ncdc:C00946 : Global Summary of the Month
gov.noaa.ncdc:C00947 : Global Summary of the Year
gov.noaa.ncdc:C00345 : Weather Radar (Level II)
gov.noaa.ncdc:C00708 : Weather Radar (Level III)
gov.noaa.ncdc:C00821 : Normals Annual/Seasonal
gov.noaa.ncdc:C00823 : Normals Daily
gov.noaa.ncdc:C00824 : Normals Hourly
gov.noaa.ncdc:C00822 : Normals Monthly
gov.noaa.ncdc:C00505 : Precipitation 15 Minute
gov.noaa.ncdc:C00313 : Precipitation Hourly
</pre></div>
</div>
</div>
</div>
<p>La API permite una variedad de consultas, por ejemplo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ejemplo: datasets  disponible en la ciudad US390029</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">token</span> <span class="o">=</span> <span class="s1">&#39;LsJXpYprYMzOKjMtqAlDmMUzwGelIQDf&#39;</span>
<span class="n">my_headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;token&#39;</span> <span class="p">:</span> <span class="n">token</span><span class="p">}</span>
<span class="k">try</span> <span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://www.ncdc.noaa.gov/cdo-web/api/v2/datasets?locationid=CITY:US390029&#39;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">my_headers</span><span class="p">)</span>
    <span class="n">status_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span>
<span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="c1"># imprime en la terminal el error que se produjo</span>
    <span class="n">status_code</span> <span class="o">=</span> <span class="mi">550</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">respuesta</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;metadata&#39;: {&#39;resultset&#39;: {&#39;offset&#39;: 1, &#39;count&#39;: 10, &#39;limit&#39;: 25}}, &#39;results&#39;: [{&#39;uid&#39;: &#39;gov.noaa.ncdc:C00861&#39;, &#39;mindate&#39;: &#39;1750-02-01&#39;, &#39;maxdate&#39;: &#39;2024-09-18&#39;, &#39;name&#39;: &#39;Daily Summaries&#39;, &#39;datacoverage&#39;: 1, &#39;id&#39;: &#39;GHCND&#39;}, {&#39;uid&#39;: &#39;gov.noaa.ncdc:C00946&#39;, &#39;mindate&#39;: &#39;1750-02-01&#39;, &#39;maxdate&#39;: &#39;2024-09-01&#39;, &#39;name&#39;: &#39;Global Summary of the Month&#39;, &#39;datacoverage&#39;: 1, &#39;id&#39;: &#39;GSOM&#39;}, {&#39;uid&#39;: &#39;gov.noaa.ncdc:C00947&#39;, &#39;mindate&#39;: &#39;1763-01-01&#39;, &#39;maxdate&#39;: &#39;2024-01-01&#39;, &#39;name&#39;: &#39;Global Summary of the Year&#39;, &#39;datacoverage&#39;: 1, &#39;id&#39;: &#39;GSOY&#39;}, {&#39;uid&#39;: &#39;gov.noaa.ncdc:C00345&#39;, &#39;mindate&#39;: &#39;1991-06-05&#39;, &#39;maxdate&#39;: &#39;2024-09-19&#39;, &#39;name&#39;: &#39;Weather Radar (Level II)&#39;, &#39;datacoverage&#39;: 0.95, &#39;id&#39;: &#39;NEXRAD2&#39;}, {&#39;uid&#39;: &#39;gov.noaa.ncdc:C00708&#39;, &#39;mindate&#39;: &#39;1994-05-20&#39;, &#39;maxdate&#39;: &#39;2024-09-16&#39;, &#39;name&#39;: &#39;Weather Radar (Level III)&#39;, &#39;datacoverage&#39;: 0.95, &#39;id&#39;: &#39;NEXRAD3&#39;}, {&#39;uid&#39;: &#39;gov.noaa.ncdc:C00821&#39;, &#39;mindate&#39;: &#39;2010-01-01&#39;, &#39;maxdate&#39;: &#39;2010-01-01&#39;, &#39;name&#39;: &#39;Normals Annual/Seasonal&#39;, &#39;datacoverage&#39;: 1, &#39;id&#39;: &#39;NORMAL_ANN&#39;}, {&#39;uid&#39;: &#39;gov.noaa.ncdc:C00823&#39;, &#39;mindate&#39;: &#39;2010-01-01&#39;, &#39;maxdate&#39;: &#39;2010-12-31&#39;, &#39;name&#39;: &#39;Normals Daily&#39;, &#39;datacoverage&#39;: 1, &#39;id&#39;: &#39;NORMAL_DLY&#39;}, {&#39;uid&#39;: &#39;gov.noaa.ncdc:C00822&#39;, &#39;mindate&#39;: &#39;2010-01-01&#39;, &#39;maxdate&#39;: &#39;2010-12-01&#39;, &#39;name&#39;: &#39;Normals Monthly&#39;, &#39;datacoverage&#39;: 1, &#39;id&#39;: &#39;NORMAL_MLY&#39;}, {&#39;uid&#39;: &#39;gov.noaa.ncdc:C00505&#39;, &#39;mindate&#39;: &#39;1970-05-12&#39;, &#39;maxdate&#39;: &#39;2014-01-01&#39;, &#39;name&#39;: &#39;Precipitation 15 Minute&#39;, &#39;datacoverage&#39;: 0.25, &#39;id&#39;: &#39;PRECIP_15&#39;}, {&#39;uid&#39;: &#39;gov.noaa.ncdc:C00313&#39;, &#39;mindate&#39;: &#39;1900-01-01&#39;, &#39;maxdate&#39;: &#39;2014-01-01&#39;, &#39;name&#39;: &#39;Precipitation Hourly&#39;, &#39;datacoverage&#39;: 1, &#39;id&#39;: &#39;PRECIP_HLY&#39;}]}
</pre></div>
</div>
</div>
</div>
<p>nos devuelve todos los datasets disponibles para determinada localidad,  en este caso <code class="docutils literal notranslate"><span class="pre">US390029</span></code> que es la ciudad de Zanesville, OH US.</p>
<p>También podemos obtener, por ejemplo, datos climatológicos de una determinada localidad durante un período determinado de tiempo: la consulta</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Datos climatológicos diarios (temperatura máxima, temperatura mínima y precipitaciones) en un período de tiempo en</span>
<span class="c1"># la estación meteorológica  AR000087344 (Aeropuerto de Córdoba)</span>
<span class="n">fecha_ini</span><span class="p">,</span> <span class="n">fecha_fin</span> <span class="o">=</span> <span class="s1">&#39;2024-04-24&#39;</span><span class="p">,</span> <span class="s1">&#39;2024-04-30&#39;</span>
<span class="k">try</span> <span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=GHCND&amp;stationid=GHCND:AR000087344&amp;limit=1000&amp;units=metric&amp;startdate=&#39;</span><span class="o">+</span><span class="n">fecha_ini</span><span class="o">+</span><span class="s1">&#39;&amp;enddate=&#39;</span><span class="o">+</span><span class="n">fecha_fin</span><span class="o">+</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">my_headers</span><span class="p">)</span>
    <span class="n">status_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span>
<span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="c1"># imprime en la terminal el error que se produjo</span>
    <span class="n">status_code</span> <span class="o">=</span> <span class="mi">550</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">respuesta</span><span class="p">))</span>
<span class="k">for</span>  <span class="n">item</span> <span class="ow">in</span> <span class="n">respuesta</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;dict&#39;&gt;
metadata
results
</pre></div>
</div>
</div>
</div>
<p>nos devuelve un sumario de temperaturas y precipitaciones diarias en el mes de mayo de la estación meteorológica del Aeropuerto de Córdoba,  que está codificada <code class="docutils literal notranslate"><span class="pre">AR000087344</span></code>.</p>
<p>Observar que la respuesta recibida puede ser convertida a JSON, pues así lo permite la API. En  este caso particular, la respuesta JSON es un diccionario con dos claves: <code class="docutils literal notranslate"><span class="pre">metadata</span></code> y <code class="docutils literal notranslate"><span class="pre">results</span></code>. El campo <code class="docutils literal notranslate"><span class="pre">metadata</span></code> nos da información sobre tipo de datos, formato, etc. Mientras que <code class="docutils literal notranslate"><span class="pre">results</span></code> es el contenido que nos interesa.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">respuesta</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">respuesta</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;resultset&#39;: {&#39;offset&#39;: 1, &#39;count&#39;: 14, &#39;limit&#39;: 1000}}
[{&#39;date&#39;: &#39;2024-04-24T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 13.5}, {&#39;date&#39;: &#39;2024-04-24T00:00:00&#39;, &#39;datatype&#39;: &#39;TMAX&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 21.0}, {&#39;date&#39;: &#39;2024-04-25T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 13.4}, {&#39;date&#39;: &#39;2024-04-26T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 15.7}, {&#39;date&#39;: &#39;2024-04-26T00:00:00&#39;, &#39;datatype&#39;: &#39;TMIN&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 12.3}, {&#39;date&#39;: &#39;2024-04-27T00:00:00&#39;, &#39;datatype&#39;: &#39;PRCP&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 0.0}, {&#39;date&#39;: &#39;2024-04-27T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 16.9}, {&#39;date&#39;: &#39;2024-04-27T00:00:00&#39;, &#39;datatype&#39;: &#39;TMAX&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 21.1}, {&#39;date&#39;: &#39;2024-04-28T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 14.1}, {&#39;date&#39;: &#39;2024-04-28T00:00:00&#39;, &#39;datatype&#39;: &#39;TMIN&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 6.3}, {&#39;date&#39;: &#39;2024-04-29T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 17.1}, {&#39;date&#39;: &#39;2024-04-29T00:00:00&#39;, &#39;datatype&#39;: &#39;TMIN&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 8.1}, {&#39;date&#39;: &#39;2024-04-30T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 19.9}, {&#39;date&#39;: &#39;2024-04-30T00:00:00&#39;, &#39;datatype&#39;: &#39;TMAX&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 27.1}]
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">respuesta['results']</span></code>es una lista con datos meteorológicos de la localidad en el período especificado:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span>  <span class="n">data</span> <span class="ow">in</span> <span class="n">respuesta</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;date&#39;: &#39;2024-04-24T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 13.5}
{&#39;date&#39;: &#39;2024-04-24T00:00:00&#39;, &#39;datatype&#39;: &#39;TMAX&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 21.0}
{&#39;date&#39;: &#39;2024-04-25T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 13.4}
{&#39;date&#39;: &#39;2024-04-26T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 15.7}
{&#39;date&#39;: &#39;2024-04-26T00:00:00&#39;, &#39;datatype&#39;: &#39;TMIN&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 12.3}
{&#39;date&#39;: &#39;2024-04-27T00:00:00&#39;, &#39;datatype&#39;: &#39;PRCP&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 0.0}
{&#39;date&#39;: &#39;2024-04-27T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 16.9}
{&#39;date&#39;: &#39;2024-04-27T00:00:00&#39;, &#39;datatype&#39;: &#39;TMAX&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 21.1}
{&#39;date&#39;: &#39;2024-04-28T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 14.1}
{&#39;date&#39;: &#39;2024-04-28T00:00:00&#39;, &#39;datatype&#39;: &#39;TMIN&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 6.3}
{&#39;date&#39;: &#39;2024-04-29T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 17.1}
{&#39;date&#39;: &#39;2024-04-29T00:00:00&#39;, &#39;datatype&#39;: &#39;TMIN&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 8.1}
{&#39;date&#39;: &#39;2024-04-30T00:00:00&#39;, &#39;datatype&#39;: &#39;TAVG&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;H,,S,&#39;, &#39;value&#39;: 19.9}
{&#39;date&#39;: &#39;2024-04-30T00:00:00&#39;, &#39;datatype&#39;: &#39;TMAX&#39;, &#39;station&#39;: &#39;GHCND:AR000087344&#39;, &#39;attributes&#39;: &#39;,,S,&#39;, &#39;value&#39;: 27.1}
</pre></div>
</div>
</div>
</div>
<p>Observar que cada elemento de  <code class="docutils literal notranslate"><span class="pre">resultados</span></code> es un diccionario y en ese diccionario  estan las claves<code class="docutils literal notranslate"><span class="pre">date</span></code>, <code class="docutils literal notranslate"><span class="pre">datatype</span></code> y <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">date</span></code> indica el día.</p></li>
<li><p>Si el <code class="docutils literal notranslate"><span class="pre">datatype</span></code> es <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>,  entonces <code class="docutils literal notranslate"><span class="pre">value</span></code> indica la temperatura máxima del día.</p></li>
<li><p>Si el <code class="docutils literal notranslate"><span class="pre">datatype</span></code> es <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>,  entonces <code class="docutils literal notranslate"><span class="pre">value</span></code> indica la temperatura mínima del día.</p></li>
<li><p>Si el <code class="docutils literal notranslate"><span class="pre">datatype</span></code> es <code class="docutils literal notranslate"><span class="pre">TAVG</span></code>,  entonces <code class="docutils literal notranslate"><span class="pre">value</span></code> indica la temperatura promedio del día.</p></li>
<li><p>Si el <code class="docutils literal notranslate"><span class="pre">datatype</span></code> es <code class="docutils literal notranslate"><span class="pre">PRCP</span></code>,  entonces <code class="docutils literal notranslate"><span class="pre">value</span></code> indica la precipitación (en mm) de ese día.</p></li>
</ul>
<p>Es importante notar que no todos los datos se encuentran para todos los días.</p>
<p>En las referencias a continuación se encuentra como obtener el token, la descripción de la API, la lista de estaciones meteorológicas y mucha más información.</p>
<p><em>Referencias</em></p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.ncdc.noaa.gov/">https://www.ncdc.noaa.gov/</a> National Centers for Environmental Information (37 petabytes)</p></li>
<li><p><a class="reference external" href="https://www.ncei.noaa.gov/support/access-data-service-api-user-documentation">https://www.ncei.noaa.gov/support/access-data-service-api-user-documentation</a></p></li>
<li><p>Para bajar estaciones meteorolgógicas:  <a class="reference external" href="https://www1.ncdc.noaa.gov/pub/data/ghcn/daily/ghcnd-stations.txt">https://www1.ncdc.noaa.gov/pub/data/ghcn/daily/ghcnd-stations.txt</a></p></li>
<li><p><a class="reference external" href="https://www.ncdc.noaa.gov/ghcn-daily-description">https://www.ncdc.noaa.gov/ghcn-daily-description</a></p></li>
<li><p>Para bajar manual de ghcn-daily: <a class="reference external" href="https://www1.ncdc.noaa.gov/pub/data/ghcn/daily/readme.txt">https://www1.ncdc.noaa.gov/pub/data/ghcn/daily/readme.txt</a></p></li>
<li><p>Para pedir token: <a class="reference external" href="https://www.ncdc.noaa.gov/cdo-web/token">https://www.ncdc.noaa.gov/cdo-web/token</a></p></li>
<li><p>Climate Data Online - Web Services Documentation: <a class="reference external" href="https://www.ncdc.noaa.gov/cdo-web/webservices/v2#gettingStarted">https://www.ncdc.noaa.gov/cdo-web/webservices/v2#gettingStarted</a></p></li>
<li><p>Manual genérico para uso de APIs en Python: <a class="reference external" href="https://www.nylas.com/blog/use-python-requests-module-rest-apis/">https://www.nylas.com/blog/use-python-requests-module-rest-apis/</a></p></li>
</ul>
</section>
<section id="otros-ejemplos-de-apis">
<h3>Otros ejemplos de APIs<a class="headerlink" href="#otros-ejemplos-de-apis" title="Link to this heading">#</a></h3>
<p>Algunas APIs interesantes para practicar son:</p>
<ul class="simple">
<li><p><strong>PokéAPI</strong>: Proporciona datos sobre Pokémon como movimientos, habilidades, tipos, etc. Permite crear fácilmente un Pokédex. [2][3]</p></li>
<li><p><strong>API de la NASA</strong>: Permite acceder a datos de la NASA como imágenes de satélites, clima en Marte, etc. Requiere registro para obtener acceso a algunos datos. [1][2]</p></li>
<li><p><strong>API de Marvel</strong>: Ofrece contenido de Marvel como personajes, cómics, películas y videojuegos. Requiere registro en developer.marvel.com. [3]</p></li>
<li><p><strong>COVID Tracking API</strong>: Proporciona datos de COVID-19 a nivel mundial como contagios, pruebas, hospitalizaciones y muertes. [3]</p></li>
<li><p><strong>OpenWeather APIs</strong>: Permite obtener información meteorológica actual, histórica y pronósticos. También ofrece mapas. [3]</p></li>
</ul>
<p>Todas estas APIs son de datos públicos,  algunas requieren registro. Tambén algunas pueden tener un límite diario de consultas.</p>
<p>Las siguientes APIs  son de suma utilidad para algunos desarrolladores, pero o bien son pagas o bien requieren un un complicado proceso de registro. O  ambas cosas!</p>
</section>
</section>
<section id="apis-de-servicios-populares">
<h2>APIs de servicios populares<a class="headerlink" href="#apis-de-servicios-populares" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>API de Google Maps</strong>: Agrega funcionalidades de mapas a aplicaciones web como mostrar ubicaciones, calcular rutas, obtener direcciones. [4]</p></li>
<li><p><strong>API de Facebook</strong>: Integra funcionalidades sociales como compartir contenido, autenticación de usuarios, conexión a la red de Facebook. [4]</p></li>
<li><p><strong>API de Twitter</strong>: Permite enviar y recibir tweets, buscar tweets, compartir contenido a través de Twitter. [4]</p></li>
</ul>
<p>Referencias:</p>
<ul class="simple">
<li><p>[1] <a class="reference external" href="https://platzi.com/blog/12-api-gratis-para-desarrolladores-frontend/">https://platzi.com/blog/12-api-gratis-para-desarrolladores-frontend/</a></p></li>
<li><p>[2] <a class="reference external" href="https://www.youtube.com/watch?v=xOsqjAyIWwI">https://www.youtube.com/watch?v=xOsqjAyIWwI</a></p></li>
<li><p>[3] <a class="reference external" href="https://ed.team/blog/las-mejores-apis-publicas-para-practicar">https://ed.team/blog/las-mejores-apis-publicas-para-practicar</a></p></li>
<li><p>[4] <a class="reference external" href="https://www.nucba.com.ar/blog/posts/mejores-apis-para-practicar">https://www.nucba.com.ar/blog/posts/mejores-apis-para-practicar</a></p></li>
<li><p>[5] <a class="reference external" href="https://www.youtube.com/watch?v=ZgV3ohcNXYQ">https://www.youtube.com/watch?v=ZgV3ohcNXYQ</a></p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="16_Input_y_output.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">16. Input y output</p>
      </div>
    </a>
    <a class="right-next"
       href="18_NumPy.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">18. Introducción a NumPy</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-csv">1. Archivos CSV</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-de-archivos-csv-de-la-red">Lectura de archivos CSV de la red</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-y-escritura-de-archivos-json">2. Lectura y escritura de archivos JSON</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-de-archivos-json-en-internet">3. Lectura de archivos JSON en internet</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-y-escritura-de-archivos-xml">4. Lectura y escritura de archivos XML</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#elementos-y-atributos">4.1. Elementos y atributos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xml-dom">4.2. xml.dom</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo">4.3. Ejemplo</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uso-de-apis">5. Uso de APIs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-la-api-del-noaa">Ejemplo: la API del NOAA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#otros-ejemplos-de-apis">Otros ejemplos de APIs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apis-de-servicios-populares">APIs de servicios populares</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Alejandro Tiraboschi
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>